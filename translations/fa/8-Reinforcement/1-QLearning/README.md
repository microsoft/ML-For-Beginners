<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "0ffe994d1cc881bdeb49226a064116e5",
  "translation_date": "2025-09-04T00:20:56+00:00",
  "source_file": "8-Reinforcement/1-QLearning/README.md",
  "language_code": "fa"
}
-->
# ููุฏููโุง ุจุฑ ุงุฏฺฏุฑ ุชููุช ู Q-Learning

![ุฎูุงุตูโุง ุงุฒ ุงุฏฺฏุฑ ุชููุช ุฏุฑ ุงุฏฺฏุฑ ูุงุดู ุฏุฑ ฺฉ ุงุณฺฉฺโููุช](../../../../translated_images/ml-reinforcement.94024374d63348dbb3571c343ca7ddabef72adac0b8086d47164b769ba3a8a1d.fa.png)
> ุงุณฺฉฺโููุช ุชูุณุท [Tomomi Imura](https://www.twitter.com/girlie_mac)

ุงุฏฺฏุฑ ุชููุช ุดุงูู ุณู ููููู ููู ุงุณุช: ุนุงููุ ุญุงูุชโูุงุ ู ูุฌููุนูโุง ุงุฒ ุงูุฏุงูุงุช ุจุฑุง ูุฑ ุญุงูุช. ุจุง ุงูุฌุงู ฺฉ ุงูุฏุงู ุฏุฑ ฺฉ ุญุงูุช ูุดุฎุตุ ุนุงูู ฺฉ ูพุงุฏุงุด ุฏุฑุงูุช ูโฺฉูุฏ. ุฏูุจุงุฑู ุจุงุฒ ฺฉุงููพูุชุฑ ุณููพุฑ ูุงุฑู ุฑุง ุชุตูุฑ ฺฉูุฏ. ุดูุง ูุงุฑู ูุณุชุฏุ ุฏุฑ ฺฉ ูุฑุญูู ุจุงุฒุ ฺฉูุงุฑ ูุจู ฺฉ ูพุฑุชฺฏุงู ุงุณุชุงุฏูโุงุฏ. ุจุงูุง ุดูุง ฺฉ ุณฺฉู ูุฑุงุฑ ุฏุงุฑุฏ. ุดูุง ฺฉู ูุงุฑู ูุณุชุฏุ ุฏุฑ ฺฉ ูุฑุญูู ุจุงุฒุ ุฏุฑ ฺฉ ูููุนุช ุฎุงุต ... ุงู ุญุงูุช ุดูุงุณุช. ุญุฑฺฉุช ฺฉ ูุฏู ุจู ุณูุช ุฑุงุณุช (ฺฉ ุงูุฏุงู) ุดูุง ุฑุง ุจู ูพุงู ูพุฑุชฺฏุงู ูโุจุฑุฏ ู ุงู ุจู ุดูุง ุงูุชุงุฒ ุนุฏุฏ ูพุงู ูโุฏูุฏ. ุงูุง ูุดุงุฑ ุฏุงุฏู ุฏฺฉูู ูพุฑุด ุจู ุดูุง ุงุฌุงุฒู ูโุฏูุฏ ุงูุชุงุฒ ฺฉุณุจ ฺฉูุฏ ู ุฒูุฏู ุจูุงูุฏ. ุงู ฺฉ ูุชุฌู ูุซุจุช ุงุณุช ู ุจุงุฏ ุจู ุดูุง ุงูุชุงุฒ ุนุฏุฏ ูุซุจุช ุจุฏูุฏ.

ุจุง ุงุณุชูุงุฏู ุงุฒ ุงุฏฺฏุฑ ุชููุช ู ฺฉ ุดุจูโุณุงุฒ (ุจุงุฒ)ุ ูโุชูุงูุฏ ุงุฏ ุจฺฏุฑุฏ ฺฺฏููู ุจุงุฒ ฺฉูุฏ ุชุง ูพุงุฏุงุด ุฑุง ุจู ุญุฏุงฺฉุซุฑ ุจุฑุณุงูุฏุ ฺฉู ุดุงูู ุฒูุฏู ูุงูุฏู ู ฺฉุณุจ ุจุดุชุฑู ุงูุชุงุฒ ููฺฉู ุงุณุช.

[![ููุฏููโุง ุจุฑ ุงุฏฺฏุฑ ุชููุช](https://img.youtube.com/vi/lDq_en8RNOo/0.jpg)](https://www.youtube.com/watch?v=lDq_en8RNOo)

> ๐ฅ ุฑู ุชุตูุฑ ุจุงูุง ฺฉูฺฉ ฺฉูุฏ ุชุง ุตุญุจุชโูุง ุฏูุชุฑ ุฏุฑุจุงุฑู ุงุฏฺฏุฑ ุชููุช ุฑุง ุจุดููุฏ

## [ูพุดโุขุฒููู ุฏุฑุณ](https://gray-sand-07a10f403.1.azurestaticapps.net/quiz/45/)

## ูพุดโูุงุฒูุง ู ุชูุธูุงุช

ุฏุฑ ุงู ุฏุฑุณุ ูุง ุจุง ฺฉุฏ ุฏุฑ ูพุงุชูู ุขุฒูุงุด ุฎูุงูู ฺฉุฑุฏ. ุดูุง ุจุงุฏ ุจุชูุงูุฏ ฺฉุฏ Jupyter Notebook ุงู ุฏุฑุณ ุฑุง ุฑู ฺฉุงููพูุชุฑ ุฎูุฏ ุง ุฏุฑ ูุถุง ุงุจุฑ ุงุฌุฑุง ฺฉูุฏ.

ูโุชูุงูุฏ [ุฏูุชุฑฺู ุฏุฑุณ](https://github.com/microsoft/ML-For-Beginners/blob/main/8-Reinforcement/1-QLearning/notebook.ipynb) ุฑุง ุจุงุฒ ฺฉูุฏ ู ุงู ุฏุฑุณ ุฑุง ูุฑูุฑ ฺฉูุฏ ุชุง ุขู ุฑุง ุจุณุงุฒุฏ.

> **ุชูุฌู:** ุงฺฏุฑ ุงู ฺฉุฏ ุฑุง ุงุฒ ูุถุง ุงุจุฑ ุจุงุฒ ูโฺฉูุฏุ ููฺูู ุจุงุฏ ูุงู [`rlboard.py`](https://github.com/microsoft/ML-For-Beginners/blob/main/8-Reinforcement/1-QLearning/rlboard.py) ุฑุง ุฏุฑุงูุช ฺฉูุฏุ ฺฉู ุฏุฑ ฺฉุฏ ุฏูุชุฑฺู ุงุณุชูุงุฏู ูโุดูุฏ. ุขู ุฑุง ุจู ููุงู ุฏุงุฑฺฉุชูุฑ ฺฉู ุฏูุชุฑฺู ุฏุฑ ุขู ูุฑุงุฑ ุฏุงุฑุฏ ุงุถุงูู ฺฉูุฏ.

## ููุฏูู

ุฏุฑ ุงู ุฏุฑุณุ ูุง ุฏูุง **[ูพุชุฑ ู ฺฏุฑฺฏ](https://en.wikipedia.org/wiki/Peter_and_the_Wolf)** ุฑุง ุจุฑุฑุณ ุฎูุงูู ฺฉุฑุฏุ ฺฉู ุงุฒ ฺฉ ุฏุงุณุชุงู ููุณูุง ุงูุณุงููโุง ุชูุณุท ุขููฺฏุณุงุฒ ุฑูุณุ [ุณุฑฺฏุฆ ูพุฑูฺฉูู](https://en.wikipedia.org/wiki/Sergei_Prokofiev) ุงููุงู ฺฏุฑูุชู ุดุฏู ุงุณุช. ูุง ุงุฒ **ุงุฏฺฏุฑ ุชููุช** ุงุณุชูุงุฏู ุฎูุงูู ฺฉุฑุฏ ุชุง ุจู ูพุชุฑ ุงุฌุงุฒู ุฏูู ูุญุท ุฎูุฏ ุฑุง ฺฉุดู ฺฉูุฏุ ุณุจโูุง ุฎูุดูุฒู ุฌูุนโุขูุฑ ฺฉูุฏ ู ุงุฒ ููุงูุงุช ุจุง ฺฏุฑฺฏ ุงุฌุชูุงุจ ฺฉูุฏ.

**ุงุฏฺฏุฑ ุชููุช** (RL) ฺฉ ุชฺฉูฺฉ ุงุฏฺฏุฑ ุงุณุช ฺฉู ุจู ูุง ุงุฌุงุฒู ูโุฏูุฏ ุฑูุชุงุฑ ุจููู ฺฉ **ุนุงูู** ุฑุง ุฏุฑ ฺฉ **ูุญุท** ุจุง ุงุฌุฑุง ุขุฒูุงุดโูุง ูุชุนุฏุฏ ุงุฏ ุจฺฏุฑู. ฺฉ ุนุงูู ุฏุฑ ุงู ูุญุท ุจุงุฏ ฺฉ **ูุฏู** ุฏุงุดุชู ุจุงุดุฏุ ฺฉู ุชูุณุท ฺฉ **ุชุงุจุน ูพุงุฏุงุด** ุชุนุฑู ูโุดูุฏ.

## ูุญุท

ุจุฑุง ุณุงุฏฺฏุ ุจุงุฏ ุฏูุง ูพุชุฑ ุฑุง ุจู ฺฉ ุชุฎุชู ูุฑุจุน ุจุง ุงูุฏุงุฒู `ุนุฑุถ` x `ุงุฑุชูุงุน` ุฏุฑ ูุธุฑ ุจฺฏุฑูุ ูุงููุฏ ุงู:

![ูุญุท ูพุชุฑ](../../../../translated_images/environment.40ba3cb66256c93fa7e92f6f7214e1d1f588aafa97d266c11d108c5c5d101b6c.fa.png)

ูุฑ ุณููู ุฏุฑ ุงู ุชุฎุชู ูโุชูุงูุฏ ฺฉ ุงุฒ ููุงุฑุฏ ุฒุฑ ุจุงุดุฏ:

* **ุฒูู**ุ ฺฉู ูพุชุฑ ู ููุฌูุฏุงุช ุฏฺฏุฑ ูโุชูุงููุฏ ุฑู ุขู ุฑุงู ุจุฑููุฏ.
* **ุขุจ**ุ ฺฉู ุจู ูุถูุญ ููโุชูุงูุฏ ุฑู ุขู ุฑุงู ุจุฑูุฏ.
* ฺฉ **ุฏุฑุฎุช** ุง **ฺูู**ุ ุฌุง ฺฉู ูโุชูุงูุฏ ุงุณุชุฑุงุญุช ฺฉูุฏ.
* ฺฉ **ุณุจ**ุ ฺฉู ฺุฒ ุงุณุช ฺฉู ูพุชุฑ ุฎูุดุญุงู ูโุดูุฏ ูพุฏุง ฺฉูุฏ ุชุง ุฎูุฏุด ุฑุง ุชุบุฐู ฺฉูุฏ.
* ฺฉ **ฺฏุฑฺฏ**ุ ฺฉู ุฎุทุฑูุงฺฉ ุงุณุช ู ุจุงุฏ ุงุฒ ุขู ุงุฌุชูุงุจ ฺฉุฑุฏ.

ฺฉ ูุงฺูู ุฌุฏุงฺฏุงูู ูพุงุชููุ [`rlboard.py`](https://github.com/microsoft/ML-For-Beginners/blob/main/8-Reinforcement/1-QLearning/rlboard.py)ุ ูุฌูุฏ ุฏุงุฑุฏ ฺฉู ุดุงูู ฺฉุฏ ุจุฑุง ฺฉุงุฑ ุจุง ุงู ูุญุท ุงุณุช. ุงุฒ ุขูุฌุง ฺฉู ุงู ฺฉุฏ ุจุฑุง ุฏุฑฺฉ ููุงูู ูุง ููู ูุณุชุ ูุง ูุงฺูู ุฑุง ูุงุฑุฏ ูโฺฉูู ู ุงุฒ ุขู ุจุฑุง ุงุฌุงุฏ ุชุฎุชู ููููู ุงุณุชูุงุฏู ูโฺฉูู (ุจููฺฉ ฺฉุฏ 1):

```python
from rlboard import *

width, height = 8,8
m = Board(width,height)
m.randomize(seed=13)
m.plot()
```

ุงู ฺฉุฏ ุจุงุฏ ุชุตูุฑ ุงุฒ ูุญุท ูุดุงุจู ุชุตูุฑ ุจุงูุง ฺุงูพ ฺฉูุฏ.

## ุงูุฏุงูุงุช ู ุณุงุณุช

ุฏุฑ ูุซุงู ูุงุ ูุฏู ูพุชุฑ ุงู ุงุณุช ฺฉู ุจุชูุงูุฏ ฺฉ ุณุจ ูพุฏุง ฺฉูุฏุ ุฏุฑ ุญุงู ฺฉู ุงุฒ ฺฏุฑฺฏ ู ููุงูุน ุฏฺฏุฑ ุงุฌุชูุงุจ ูโฺฉูุฏ. ุจุฑุง ุงูุฌุงู ุงู ฺฉุงุฑุ ุงู ุงุณุงุณุงู ูโุชูุงูุฏ ุฏุฑ ุงุทุฑุงู ูุฏู ุจุฒูุฏ ุชุง ฺฉ ุณุจ ูพุฏุง ฺฉูุฏ.

ุจูุงุจุฑุงูุ ุฏุฑ ูุฑ ูููุนุชุ ุงู ูโุชูุงูุฏ ฺฉ ุงุฒ ุงูุฏุงูุงุช ุฒุฑ ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ: ุจุงูุงุ ูพุงูุ ฺูพ ู ุฑุงุณุช.

ูุง ุงู ุงูุฏุงูุงุช ุฑุง ุจู ุตูุฑุช ฺฉ ุฏฺฉุดูุฑ ุชุนุฑู ูโฺฉูู ู ุขููุง ุฑุง ุจู ุฌูุชโูุง ุชุบุฑุงุช ูุฎุชุตุงุช ูุฑุจูุทู ูฺฏุงุดุช ูโฺฉูู. ุจุฑุง ูุซุงูุ ุญุฑฺฉุช ุจู ุฑุงุณุช (`R`) ุจู ุฌูุช `(1,0)` ูุฑุจูุท ูโุดูุฏ. (ุจููฺฉ ฺฉุฏ 2):

```python
actions = { "U" : (0,-1), "D" : (0,1), "L" : (-1,0), "R" : (1,0) }
action_idx = { a : i for i,a in enumerate(actions.keys()) }
```

ุจู ุทูุฑ ุฎูุงุตูุ ุงุณุชุฑุงุชฺ ู ูุฏู ุงู ุณูุงุฑู ุจู ุดุฑุญ ุฒุฑ ุงุณุช:

- **ุงุณุชุฑุงุชฺ** ุนุงูู ูุง (ูพุชุฑ) ุชูุณุท ฺุฒ ุจู ูุงู **ุณุงุณุช** ุชุนุฑู ูโุดูุฏ. ุณุงุณุช ฺฉ ุชุงุจุน ุงุณุช ฺฉู ุงูุฏุงู ุฑุง ุฏุฑ ูุฑ ุญุงูุช ูุดุฎุต ุจุงุฒูโฺฏุฑุฏุงูุฏ. ุฏุฑ ููุฑุฏ ูุงุ ุญุงูุช ูุณุฆูู ุชูุณุท ุชุฎุชูุ ุดุงูู ูููุนุช ูุนู ุจุงุฒฺฉูุ ูุดุงู ุฏุงุฏู ูโุดูุฏ.

- **ูุฏู** ุงุฏฺฏุฑ ุชููุช ุงู ุงุณุช ฺฉู ุฏุฑ ููุงุช ฺฉ ุณุงุณุช ุฎูุจ ุงุฏ ุจฺฏุฑู ฺฉู ุจู ูุง ุงุฌุงุฒู ุฏูุฏ ูุณุฆูู ุฑุง ุจู ุทูุฑ ฺฉุงุฑุขูุฏ ุญู ฺฉูู. ุจุง ุงู ุญุงูุ ุจู ุนููุงู ฺฉ ุฎุท ูพุงูุ ุจุงุฏ ุณุงุฏูโุชุฑู ุณุงุณุช ุจู ูุงู **ูุฏู ุฒุฏู ุชุตุงุฏู** ุฑุง ุฏุฑ ูุธุฑ ุจฺฏุฑู.

## ูุฏู ุฒุฏู ุชุตุงุฏู

ุงุจุชุฏุง ูุณุฆูู ุฎูุฏ ุฑุง ุจุง ุงุฌุฑุง ฺฉ ุงุณุชุฑุงุชฺ ูุฏู ุฒุฏู ุชุตุงุฏู ุญู ฺฉูู. ุจุง ูุฏู ุฒุฏู ุชุตุงุฏูุ ูุง ุจู ุทูุฑ ุชุตุงุฏู ุงูุฏุงู ุจุนุฏ ุฑุง ุงุฒ ุงูุฏุงูุงุช ูุฌุงุฒ ุงูุชุฎุงุจ ูโฺฉููุ ุชุง ุฒูุงู ฺฉู ุจู ุณุจ ุจุฑุณู (ุจููฺฉ ฺฉุฏ 3).

1. ูุฏู ุฒุฏู ุชุตุงุฏู ุฑุง ุจุง ฺฉุฏ ุฒุฑ ุงุฌุฑุง ฺฉูุฏ:

    ```python
    def random_policy(m):
        return random.choice(list(actions))
    
    def walk(m,policy,start_position=None):
        n = 0 # number of steps
        # set initial position
        if start_position:
            m.human = start_position 
        else:
            m.random_start()
        while True:
            if m.at() == Board.Cell.apple:
                return n # success!
            if m.at() in [Board.Cell.wolf, Board.Cell.water]:
                return -1 # eaten by wolf or drowned
            while True:
                a = actions[policy(m)]
                new_pos = m.move_pos(m.human,a)
                if m.is_valid(new_pos) and m.at(new_pos)!=Board.Cell.water:
                    m.move(a) # do the actual move
                    break
            n+=1
    
    walk(m,random_policy)
    ```

    ูุฑุงุฎูุงู `walk` ุจุงุฏ ุทูู ูุณุฑ ูุฑุจูุทู ุฑุง ุจุงุฒฺฏุฑุฏุงูุฏุ ฺฉู ูโุชูุงูุฏ ุงุฒ ฺฉ ุงุฌุฑุง ุจู ุงุฌุฑุง ุฏฺฏุฑ ูุชูุงูุช ุจุงุดุฏ.

1. ุขุฒูุงุด ูุฏู ุฒุฏู ุฑุง ฺูุฏู ุจุงุฑ ุงุฌุฑุง ฺฉูุฏ (ูุซูุงู 100 ุจุงุฑ)ุ ู ุขูุงุฑ ุญุงุตู ุฑุง ฺุงูพ ฺฉูุฏ (ุจููฺฉ ฺฉุฏ 4):

    ```python
    def print_statistics(policy):
        s,w,n = 0,0,0
        for _ in range(100):
            z = walk(m,policy)
            if z<0:
                w+=1
            else:
                s += z
                n += 1
        print(f"Average path length = {s/n}, eaten by wolf: {w} times")
    
    print_statistics(random_policy)
    ```

    ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ูุงูฺฏู ุทูู ูุณุฑ ุญุฏูุฏ 30-40 ูุฏู ุงุณุชุ ฺฉู ูุณุจุชุงู ุฒุงุฏ ุงุณุชุ ุจุง ุชูุฌู ุจู ุงูฺฉู ูุงูฺฏู ูุงุตูู ุชุง ูุฒุฏฺฉโุชุฑู ุณุจ ุญุฏูุฏ 5-6 ูุฏู ุงุณุช.

    ููฺูู ูโุชูุงูุฏ ุจุจูุฏ ุญุฑฺฉุช ูพุชุฑ ุฏุฑ ุทูู ูุฏู ุฒุฏู ุชุตุงุฏู ฺฺฏููู ุจู ูุธุฑ ูโุฑุณุฏ:

    ![ูุฏู ุฒุฏู ุชุตุงุฏู ูพุชุฑ](../../../../8-Reinforcement/1-QLearning/images/random_walk.gif)

## ุชุงุจุน ูพุงุฏุงุด

ุจุฑุง ููุดููุฏุชุฑ ฺฉุฑุฏู ุณุงุณุช ุฎูุฏุ ุจุงุฏ ุจูููู ฺฉุฏุงู ุญุฑฺฉุชโูุง "ุจูุชุฑ" ุงุฒ ุฏฺฏุฑุงู ูุณุชูุฏ. ุจุฑุง ุงูุฌุงู ุงู ฺฉุงุฑุ ุจุงุฏ ูุฏู ุฎูุฏ ุฑุง ุชุนุฑู ฺฉูู.

ูุฏู ูโุชูุงูุฏ ุจู ุตูุฑุช ฺฉ **ุชุงุจุน ูพุงุฏุงุด** ุชุนุฑู ุดูุฏุ ฺฉู ุจุฑุง ูุฑ ุญุงูุช ฺฉ ููุฏุงุฑ ุงูุชุงุฒ ุจุงุฒูโฺฏุฑุฏุงูุฏ. ูุฑฺู ุนุฏุฏ ุจุงูุงุชุฑ ุจุงุดุฏุ ุชุงุจุน ูพุงุฏุงุด ุจูุชุฑ ุงุณุช. (ุจููฺฉ ฺฉุฏ 5)

```python
move_reward = -0.1
goal_reward = 10
end_reward = -10

def reward(m,pos=None):
    pos = pos or m.human
    if not m.is_valid(pos):
        return end_reward
    x = m.at(pos)
    if x==Board.Cell.water or x == Board.Cell.wolf:
        return end_reward
    if x==Board.Cell.apple:
        return goal_reward
    return move_reward
```

ฺฉ ูฺฉุชู ุฌุงูุจ ุฏุฑุจุงุฑู ุชูุงุจุน ูพุงุฏุงุด ุงู ุงุณุช ฺฉู ุฏุฑ ุจุดุชุฑ ููุงุฑุฏุ *ูุง ููุท ุฏุฑ ูพุงุงู ุจุงุฒ ฺฉ ูพุงุฏุงุด ูุงุจู ุชูุฌู ุฏุฑุงูุช ูโฺฉูู*. ุงู ุจุฏุงู ูุนูุงุณุช ฺฉู ุงูฺฏูุฑุชู ูุง ุจุงุฏ ุจู ููุน "ูุฏูโูุง ุฎูุจ" ุฑุง ฺฉู ููุฌุฑ ุจู ฺฉ ูพุงุฏุงุด ูุซุจุช ุฏุฑ ูพุงุงู ูโุดููุฏ ุจู ุฎุงุทุฑ ุจุณูพุงุฑุฏ ู ุงููุช ุขููุง ุฑุง ุงูุฒุงุด ุฏูุฏ. ุจู ููู ุชุฑุชุจุ ุชูุงู ุญุฑฺฉุชโูุง ฺฉู ููุฌุฑ ุจู ูุชุงุฌ ุจุฏ ูโุดููุฏ ุจุงุฏ ุฏูุณุฑุฏ ุดููุฏ.

## Q-Learning

ุงูฺฏูุฑุชู ฺฉู ุฏุฑ ุงูุฌุง ููุฑุฏ ุจุญุซ ูุฑุงุฑ ูโุฏูู **Q-Learning** ูุงู ุฏุงุฑุฏ. ุฏุฑ ุงู ุงูฺฏูุฑุชูุ ุณุงุณุช ุชูุณุท ฺฉ ุชุงุจุน (ุง ฺฉ ุณุงุฎุชุงุฑ ุฏุงุฏู) ุจู ูุงู **ุฌุฏูู Q** ุชุนุฑู ูโุดูุฏ. ุงู ุฌุฏูู "ุฎูุจ" ูุฑ ฺฉ ุงุฒ ุงูุฏุงูุงุช ุฏุฑ ฺฉ ุญุงูุช ูุดุฎุต ุฑุง ุซุจุช ูโฺฉูุฏ.

ุงู ุฌุฏูู Q ูุงูุฏู ูโุดูุฏ ุฒุฑุง ุงุบูุจ ุฑุงุญุช ุงุณุช ฺฉู ุขู ุฑุง ุจู ุตูุฑุช ฺฉ ุฌุฏูู ุง ุขุฑุงู ฺูุฏุจุนุฏ ููุงุด ุฏูู. ุงุฒ ุขูุฌุง ฺฉู ุชุฎุชู ูุง ุงุจุนุงุฏ `ุนุฑุถ` x `ุงุฑุชูุงุน` ุฏุงุฑุฏุ ูโุชูุงูู ุฌุฏูู Q ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉ ุขุฑุงู numpy ุจุง ุดฺฉู `ุนุฑุถ` x `ุงุฑุชูุงุน` x `ุทูู(actions)` ููุงุด ุฏูู: (ุจููฺฉ ฺฉุฏ 6)

```python
Q = np.ones((width,height,len(actions)),dtype=np.float)*1.0/len(actions)
```

ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ูุง ุชูุงู ููุงุฏุฑ ุฌุฏูู Q ุฑุง ุจุง ฺฉ ููุฏุงุฑ ุจุฑุงุจุฑ ููุฏุงุฑุฏู ุงููู ูโฺฉููุ ุฏุฑ ููุฑุฏ ูุง - 0.25. ุงู ูุฑุจูุท ุจู ุณุงุณุช "ูุฏู ุฒุฏู ุชุตุงุฏู" ุงุณุชุ ุฒุฑุง ุชูุงู ุญุฑฺฉุชโูุง ุฏุฑ ูุฑ ุญุงูุช ุจู ุทูุฑ ูุณุงู ุฎูุจ ูุณุชูุฏ. ูุง ูโุชูุงูู ุฌุฏูู Q ุฑุง ุจู ุชุงุจุน `plot` ููุชูู ฺฉูู ุชุง ุฌุฏูู ุฑุง ุฑู ุชุฎุชู ุชุฌุณู ฺฉูู: `m.plot(Q)`.

![ูุญุท ูพุชุฑ](../../../../translated_images/env_init.04e8f26d2d60089e128f21d22e5fef57d580e559f0d5937b06c689e5e7cdd438.fa.png)

ุฏุฑ ูุฑฺฉุฒ ูุฑ ุณููู ฺฉ "ููุด" ูุฌูุฏ ุฏุงุฑุฏ ฺฉู ุฌูุช ุชุฑุฌุญ ุญุฑฺฉุช ุฑุง ูุดุงู ูโุฏูุฏ. ุงุฒ ุขูุฌุง ฺฉู ููู ุฌูุชโูุง ุจุฑุงุจุฑ ูุณุชูุฏุ ฺฉ ููุทู ููุงุด ุฏุงุฏู ูโุดูุฏ.

ุงฺฉููู ุจุงุฏ ุดุจูโุณุงุฒ ุฑุง ุงุฌุฑุง ฺฉููุ ูุญุท ุฎูุฏ ุฑุง ฺฉุดู ฺฉููุ ู ุชูุฒุน ุจูุชุฑ ุงุฒ ููุงุฏุฑ ุฌุฏูู Q ุฑุง ุงุฏ ุจฺฏุฑูุ ฺฉู ุจู ูุง ุงุฌุงุฒู ูโุฏูุฏ ูุณุฑ ุฑุณุฏู ุจู ุณุจ ุฑุง ุจุณุงุฑ ุณุฑุนโุชุฑ ูพุฏุง ฺฉูู.

## ุฌููุฑู Q-Learning: ูุนุงุฏูู ุจููู

ููฺฏุงู ฺฉู ุดุฑูุน ุจู ุญุฑฺฉุช ูโฺฉููุ ูุฑ ุงูุฏุงู ฺฉ ูพุงุฏุงุด ูุฑุจูุทู ุฎูุงูุฏ ุฏุงุดุชุ ุนู ูุง ูโุชูุงูู ุจู ุทูุฑ ูุธุฑ ุงูุฏุงู ุจุนุฏ ุฑุง ุจุฑ ุงุณุงุณ ุจุงูุงุชุฑู ูพุงุฏุงุด ููุฑ ุงูุชุฎุงุจ ฺฉูู. ุจุง ุงู ุญุงูุ ุฏุฑ ุจุดุชุฑ ุญุงูุชโูุงุ ุญุฑฺฉุช ุจู ูุฏู ูุง ุจุฑุง ุฑุณุฏู ุจู ุณุจ ููโุฑุณุฏุ ู ุจูุงุจุฑุงู ููโุชูุงูู ููุฑุงู ุชุตูู ุจฺฏุฑู ฺฉุฏุงู ุฌูุช ุจูุชุฑ ุงุณุช.

> ุจู ุงุฏ ุฏุงุดุชู ุจุงุดุฏ ฺฉู ูุชุฌู ููุฑ ููู ูุณุชุ ุจูฺฉู ูุชุฌู ููุง ฺฉู ุฏุฑ ูพุงุงู ุดุจูโุณุงุฒ ุจู ุฏุณุช ุฎูุงูู ุขูุฑุฏ ุงููุช ุฏุงุฑุฏ.

ุจุฑุง ุฏุฑ ูุธุฑ ฺฏุฑูุชู ุงู ูพุงุฏุงุด ุชุฃุฎุฑุ ุจุงุฏ ุงุฒ ุงุตูู **[ุจุฑูุงููโุฑุฒ ูพูุง](https://en.wikipedia.org/wiki/Dynamic_programming)** ุงุณุชูุงุฏู ฺฉููุ ฺฉู ุจู ูุง ุงุฌุงุฒู ูโุฏูุฏ ุจู ุตูุฑุช ุจุงุฒฺฏุดุช ุฏุฑุจุงุฑู ูุณุฆูู ุฎูุฏ ูฺฉุฑ ฺฉูู.

ูุฑุถ ฺฉูุฏ ุงฺฉููู ุฏุฑ ุญุงูุช *s* ูุณุชูุ ู ูโุฎูุงูู ุจู ุญุงูุช ุจุนุฏ *s'* ุญุฑฺฉุช ฺฉูู. ุจุง ุงูุฌุงู ุงู ฺฉุงุฑุ ูพุงุฏุงุด ููุฑ *r(s,a)* ุฑุง ุฏุฑุงูุช ุฎูุงูู ฺฉุฑุฏุ ฺฉู ุชูุณุท ุชุงุจุน ูพุงุฏุงุด ุชุนุฑู ุดุฏู ุงุณุชุ ุจู ุนูุงูู ููุฏุงุฑ ูพุงุฏุงุด ุขูุฏู. ุงฺฏุฑ ูุฑุถ ฺฉูู ฺฉู ุฌุฏูู Q ูุง ุจู ุฏุฑุณุช "ุฌุฐุงุจุช" ูุฑ ุงูุฏุงู ุฑุง ููุนฺฉุณ ูโฺฉูุฏุ ุฏุฑ ุญุงูุช *s'* ุงูุฏุงู *a* ุฑุง ุงูุชุฎุงุจ ุฎูุงูู ฺฉุฑุฏ ฺฉู ุจู ููุฏุงุฑ ุญุฏุงฺฉุซุฑ *Q(s',a')* ูุฑุจูุท ูโุดูุฏ. ุจูุงุจุฑุงูุ ุจูุชุฑู ูพุงุฏุงุด ุขูุฏู ููฺฉู ฺฉู ูโุชูุงูู ุฏุฑ ุญุงูุช *s* ุฏุฑุงูุช ฺฉูู ุจู ุตูุฑุช `max`

## ุจุฑุฑุณ ุณุงุณุช

ุงุฒ ุขูุฌุง ฺฉู ุฌุฏูู Q "ุฌุฐุงุจุช" ูุฑ ุนูู ุฑุง ุฏุฑ ูุฑ ุญุงูุช ููุฑุณุช ูโฺฉูุฏุ ุงุณุชูุงุฏู ุงุฒ ุขู ุจุฑุง ุชุนุฑู ูุงูุจุฑ ฺฉุงุฑุขูุฏ ุฏุฑ ุฏูุง ูุง ุจุณุงุฑ ุขุณุงู ุงุณุช. ุฏุฑ ุณุงุฏูโุชุฑู ุญุงูุชุ ูโุชูุงูู ุนูู ุฑุง ุงูุชุฎุงุจ ฺฉูู ฺฉู ุจุง ุจุงูุงุชุฑู ููุฏุงุฑ ุฌุฏูู Q ูุทุงุจูุช ุฏุงุฑุฏ: (ฺฉุฏ ุจูุงฺฉ 9)

```python
def qpolicy_strict(m):
        x,y = m.human
        v = probs(Q[x,y])
        a = list(actions)[np.argmax(v)]
        return a

walk(m,qpolicy_strict)
```

> ุงฺฏุฑ ฺฉุฏ ุจุงูุง ุฑุง ฺูุฏู ุจุงุฑ ุงูุชุญุงู ฺฉูุฏุ ููฺฉู ุงุณุช ูุชูุฌู ุดูุฏ ฺฉู ฺฏุงู ุงููุงุช "ฺฏุฑ ูโฺฉูุฏ" ู ุจุงุฏ ุฏฺฉูู STOP ุฑุง ุฏุฑ ููุชโุจูฺฉ ูุดุงุฑ ุฏูุฏ ุชุง ุขู ุฑุง ูุชููู ฺฉูุฏ. ุงู ุงุชูุงู ุจู ุงู ุฏูู ุฑุฎ ูโุฏูุฏ ฺฉู ููฺฉู ุงุณุช ุดุฑุงุท ูุฌูุฏ ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุฏู ุญุงูุช ุงุฒ ูุธุฑ ููุฏุงุฑ Q ุจููู ุจู ฺฉุฏฺฏุฑ "ุงุดุงุฑู" ฺฉููุฏุ ฺฉู ุฏุฑ ุงู ุตูุฑุช ุนุงูู ุจู ุงู ุญุงูุชโูุง ุจู ุทูุฑ ูุงูุญุฏูุฏ ุญุฑฺฉุช ูโฺฉูุฏ.

## ๐ฺุงูุด

> **ูุธูู 1:** ุชุงุจุน `walk` ุฑุง ุชุบุฑ ุฏูุฏ ุชุง ุทูู ูุณุฑ ุฑุง ุจู ุชุนุฏุงุฏ ูุดุฎุต ุงุฒ ูุฑุงุญู (ูุซูุงู 100) ูุญุฏูุฏ ฺฉูุฏ ู ูุดุงูุฏู ฺฉูุฏ ฺฉู ฺฉุฏ ุจุงูุง ฺฏุงู ุงููุงุช ุงู ููุฏุงุฑ ุฑุง ุจุฑูโฺฏุฑุฏุงูุฏ.

> **ูุธูู 2:** ุชุงุจุน `walk` ุฑุง ุชุบุฑ ุฏูุฏ ุชุง ุจู ูฺฉุงูโูุง ฺฉู ูุจูุงู ุฏุฑ ุขูโูุง ุจูุฏู ุงุณุช ุจุงุฒูฺฏุฑุฏุฏ. ุงู ฺฉุงุฑ ุงุฒ ุญููู ุฒุฏู `walk` ุฌููฺฏุฑ ูโฺฉูุฏุ ุงูุง ุนุงูู ููฺูุงู ููฺฉู ุงุณุช ุฏุฑ ูฺฉุงู "ฺฏุฑ" ฺฉูุฏ ฺฉู ูุชูุงูุฏ ุงุฒ ุขู ูุฑุงุฑ ฺฉูุฏ.

## ูุงูุจุฑ

ุณุงุณุช ูุงูุจุฑ ุจูุชุฑุ ููุงู ุณุงุณุช ุงุณุช ฺฉู ุฏุฑ ุทูู ุขููุฒุด ุงุณุชูุงุฏู ฺฉุฑุฏูุ ฺฉู ุชุฑฺฉุจ ุงุฒ ุจูุฑูโุจุฑุฏุงุฑ ู ุงฺฉุชุดุงู ุงุณุช. ุฏุฑ ุงู ุณุงุณุชุ ูุฑ ุนูู ุฑุง ุจุง ุงุญุชูุงู ูุดุฎุต ุงูุชุฎุงุจ ูโฺฉูู ฺฉู ูุชูุงุณุจ ุจุง ููุงุฏุฑ ููุฌูุฏ ุฏุฑ ุฌุฏูู Q ุจุงุดุฏ. ุงู ุงุณุชุฑุงุชฺ ููฺฉู ุงุณุช ููฺูุงู ุจุงุนุซ ุดูุฏ ุนุงูู ุจู ูููุนุช ฺฉู ูุจูุงู ุจุฑุฑุณ ฺฉุฑุฏู ุจุงุฒฺฏุฑุฏุฏุ ุงูุง ููุงูโุทูุฑ ฺฉู ุงุฒ ฺฉุฏ ุฒุฑ ูโุจูุฏุ ููุฌุฑ ุจู ูุณุฑ ูุชูุณุท ุจุณุงุฑ ฺฉูุชุงูโุชุฑ ุจู ูฺฉุงู ููุฑุฏ ูุธุฑ ูโุดูุฏ (ุจู ุงุฏ ุฏุงุดุชู ุจุงุดุฏ ฺฉู `print_statistics` ุดุจูโุณุงุฒ ุฑุง 100 ุจุงุฑ ุงุฌุฑุง ูโฺฉูุฏ): (ฺฉุฏ ุจูุงฺฉ 10)

```python
def qpolicy(m):
        x,y = m.human
        v = probs(Q[x,y])
        a = random.choices(list(actions),weights=v)[0]
        return a

print_statistics(qpolicy)
```

ูพุณ ุงุฒ ุงุฌุฑุง ุงู ฺฉุฏุ ุจุงุฏ ุทูู ูุณุฑ ูุชูุณุท ุจุณุงุฑ ฺฉูุชุงูโุชุฑ ูุณุจุช ุจู ูุจู ุฏุฑุงูุช ฺฉูุฏุ ุฏุฑ ูุญุฏูุฏู 3-6.

## ุจุฑุฑุณ ูุฑุขูุฏ ุงุฏฺฏุฑ

ููุงูโุทูุฑ ฺฉู ุงุดุงุฑู ฺฉุฑุฏูุ ูุฑุขูุฏ ุงุฏฺฏุฑ ุชุนุงุฏู ุจู ุงฺฉุชุดุงู ู ุจูุฑูโุจุฑุฏุงุฑ ุงุฒ ุฏุงูุด ฺฉุณุจโุดุฏู ุฏุฑุจุงุฑู ุณุงุฎุชุงุฑ ูุถุง ูุณุฆูู ุงุณุช. ูุดุงูุฏู ฺฉุฑุฏู ฺฉู ูุชุงุฌ ุงุฏฺฏุฑ (ุชูุงูุง ฺฉูฺฉ ุจู ุนุงูู ุจุฑุง ุงูุชู ูุณุฑ ฺฉูุชุงู ุจู ูุฏู) ุจูุจูุฏ ุงูุชู ุงุณุชุ ุงูุง ููฺูู ุฌุงูุจ ุงุณุช ฺฉู ุจุจูู ุทูู ูุณุฑ ูุชูุณุท ุฏุฑ ุทูู ูุฑุขูุฏ ุงุฏฺฏุฑ ฺฺฏููู ุฑูุชุงุฑ ูโฺฉูุฏ:

## ุฎูุงุตู ุงุฏฺฏุฑโูุง:

- **ุงูุฒุงุด ุทูู ูุณุฑ ูุชูุณุท**. ุขูฺู ุฏุฑ ุงูุฌุง ูุดุงูุฏู ูโฺฉูู ุงู ุงุณุช ฺฉู ุฏุฑ ุงุจุชุฏุง ุทูู ูุณุฑ ูุชูุณุท ุงูุฒุงุด ูโุงุจุฏ. ุงู ุงุญุชูุงูุงู ุจู ุงู ุฏูู ุงุณุช ฺฉู ููุช ูฺ ุงุทูุงุนุงุช ุฏุฑุจุงุฑู ูุญุท ูุฏุงุฑูุ ุงุญุชูุงูุงู ุฏุฑ ุญุงูุชโูุง ุจุฏุ ุขุจ ุง ฺฏุฑฺฏ ฺฏุฑ ูโฺฉูู. ุจุง ุงุฏฺฏุฑ ุจุดุชุฑ ู ุงุณุชูุงุฏู ุงุฒ ุงู ุฏุงูุดุ ูโุชูุงูู ูุญุท ุฑุง ุจุดุชุฑ ุจุฑุฑุณ ฺฉููุ ุงูุง ูููุฒ ููโุฏุงูู ุณุจโูุง ฺฉุฌุง ูุณุชูุฏ.

- **ฺฉุงูุด ุทูู ูุณุฑ ุจุง ุงุฏฺฏุฑ ุจุดุชุฑ**. ููุช ุจู ุงูุฏุงุฒู ฺฉุงู ุงุฏ ูโฺฏุฑูุ ุฑุณุฏู ุจู ูุฏู ุจุฑุง ุนุงูู ุขุณุงูโุชุฑ ูโุดูุฏ ู ุทูู ูุณุฑ ุดุฑูุน ุจู ฺฉุงูุด ูโฺฉูุฏ. ุจุง ุงู ุญุงูุ ููฺูุงู ุจู ุงฺฉุชุดุงู ุจุงุฒ ูุณุชูุ ุจูุงุจุฑุงู ุงุบูุจ ุงุฒ ูุณุฑ ุจููู ููุญุฑู ูโุดูู ู ฺฏุฒููโูุง ุฌุฏุฏ ุฑุง ุจุฑุฑุณ ูโฺฉูู ฺฉู ุจุงุนุซ ุทููุงูโุชุฑ ุดุฏู ูุณุฑ ุงุฒ ุญุฏ ูุทููุจ ูโุดูุฏ.

- **ุงูุฒุงุด ูุงฺฏูุงู ุทูู ูุณุฑ**. ุขูฺู ุฏุฑ ุงู ูููุฏุงุฑ ูุฒ ูุดุงูุฏู ูโฺฉูู ุงู ุงุณุช ฺฉู ุฏุฑ ุจุฑุฎ ููุงูุน ุทูู ูุณุฑ ุจู ุทูุฑ ูุงฺฏูุงู ุงูุฒุงุด ุงูุชู ุงุณุช. ุงู ูุดุงูโุฏููุฏู ูุงูุช ุชุตุงุฏู ูุฑุขูุฏ ุงุณุช ู ุงูฺฉู ููฺฉู ุงุณุช ุฏุฑ ุจุฑุฎ ููุงูุน ุถุฑุงุจ ุฌุฏูู Q ุฑุง ุจุง ููุงุฏุฑ ุฌุฏุฏ ุฎุฑุงุจ ฺฉูู. ุงู ุจุงุฏ ุจู ุทูุฑ ุงุฏูโุขู ุจุง ฺฉุงูุด ูุฑุฎ ุงุฏฺฏุฑ ุจู ุญุฏุงูู ุจุฑุณุฏ (ุจุฑุง ูุซุงูุ ุฏุฑ ูพุงุงู ุขููุฒุดุ ููุท ููุงุฏุฑ ุฌุฏูู Q ุฑุง ุจุง ููุฏุงุฑ ฺฉู ุชูุธู ฺฉูู).

ุจู ุทูุฑ ฺฉูุ ููู ุงุณุช ฺฉู ุจู ุงุฏ ุฏุงุดุชู ุจุงุดู ููููุช ู ฺฉูุช ูุฑุขูุฏ ุงุฏฺฏุฑ ุจู ุทูุฑ ูุงุจู ุชูุฌู ุจู ูพุงุฑุงูุชุฑูุง ูุงููุฏ ูุฑุฎ ุงุฏฺฏุฑุ ฺฉุงูุด ูุฑุฎ ุงุฏฺฏุฑ ู ุนุงูู ุชุฎูู ุจุณุชฺฏ ุฏุงุฑุฏ. ุงูโูุง ุงุบูุจ **ุงุจุฑูพุงุฑุงูุชุฑูุง** ูุงูุฏู ูโุดููุฏ ุชุง ุงุฒ **ูพุงุฑุงูุชุฑูุง** ฺฉู ุฏุฑ ุทูู ุขููุฒุด ุจูููโุณุงุฒ ูโุดููุฏ (ุจุฑุง ูุซุงูุ ุถุฑุงุจ ุฌุฏูู Q) ูุชูุงุฒ ุดููุฏ. ูุฑุขูุฏ ุงูุชู ุจูุชุฑู ููุงุฏุฑ ุงุจุฑูพุงุฑุงูุชุฑูุง **ุจูููโุณุงุฒ ุงุจุฑูพุงุฑุงูุชุฑูุง** ูุงูุฏู ูโุดูุฏ ู ุดุงุณุชู ฺฉ ููุถูุน ุฌุฏุงฺฏุงูู ุงุณุช.

## [ุขุฒููู ูพุณ ุงุฒ ุฏุฑุณ](https://gray-sand-07a10f403.1.azurestaticapps.net/quiz/46/)

## ุชฺฉูู 
[ุฏูุง ูุงูุนโุชุฑ](assignment.md)

---

**ุณูุจ ูุณุฆููุช**:  
ุงู ุณูุฏ ุจุง ุงุณุชูุงุฏู ุงุฒ ุณุฑูุณ ุชุฑุฌูู ููุด ูุตููุน [Co-op Translator](https://github.com/Azure/co-op-translator) ุชุฑุฌูู ุดุฏู ุงุณุช. ุฏุฑ ุญุงู ฺฉู ูุง ุชูุงุด ูโฺฉูู ุฏูุช ุฑุง ุญูุธ ฺฉููุ ูุทูุงู ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุชุฑุฌููโูุง ุฎูุฏฺฉุงุฑ ููฺฉู ุงุณุช ุดุงูู ุฎุทุงูุง ุง ูุงุฏุฑุณุชโูุง ุจุงุดูุฏ. ุณูุฏ ุงุตู ุจู ุฒุจุงู ุงุตู ุขู ุจุงุฏ ุจู ุนููุงู ููุจุน ูุนุชุจุฑ ุฏุฑ ูุธุฑ ฺฏุฑูุชู ุดูุฏ. ุจุฑุง ุงุทูุงุนุงุช ุญุณุงุณุ ุชูุตู ูโุดูุฏ ุงุฒ ุชุฑุฌูู ุญุฑููโุง ุงูุณุงู ุงุณุชูุงุฏู ฺฉูุฏ. ูุง ูุณุฆููุช ุฏุฑ ูุจุงู ุณูุกุชูุงููโูุง ุง ุชูุณุฑูุง ูุงุฏุฑุณุช ูุงุด ุงุฒ ุงุณุชูุงุฏู ุงุฒ ุงู ุชุฑุฌูู ูุฏุงุฑู.