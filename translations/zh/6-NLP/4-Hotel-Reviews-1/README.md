# ä½¿ç”¨é…’åº—è¯„è®ºè¿›è¡Œæƒ…æ„Ÿåˆ†æ - å¤„ç†æ•°æ®

åœ¨æœ¬èŠ‚ä¸­ï¼Œä½ å°†ä½¿ç”¨å‰å‡ èŠ‚è¯¾ä¸­å­¦åˆ°çš„æŠ€æœ¯å¯¹ä¸€ä¸ªå¤§å‹æ•°æ®é›†è¿›è¡Œä¸€äº›æ¢ç´¢æ€§æ•°æ®åˆ†æã€‚ä¸€æ—¦ä½ å¯¹å„åˆ—çš„å®ç”¨æ€§æœ‰äº†è¾ƒå¥½çš„ç†è§£ï¼Œä½ å°†å­¦åˆ°ï¼š

- å¦‚ä½•åˆ é™¤ä¸å¿…è¦çš„åˆ—
- å¦‚ä½•åŸºäºç°æœ‰åˆ—è®¡ç®—ä¸€äº›æ–°æ•°æ®
- å¦‚ä½•ä¿å­˜ç»“æœæ•°æ®é›†ä»¥ä¾¿åœ¨æœ€ç»ˆæŒ‘æˆ˜ä¸­ä½¿ç”¨

## [è¯¾å‰æµ‹éªŒ](https://gray-sand-07a10f403.1.azurestaticapps.net/quiz/37/)

### ä»‹ç»

åˆ°ç›®å‰ä¸ºæ­¢ï¼Œä½ å·²ç»äº†è§£äº†æ–‡æœ¬æ•°æ®ä¸æ•°å€¼æ•°æ®ç±»å‹æœ‰å¾ˆå¤§çš„ä¸åŒã€‚å¦‚æœæ˜¯äººç±»ä¹¦å†™æˆ–è¯´å‡ºçš„æ–‡æœ¬ï¼Œå¯ä»¥é€šè¿‡åˆ†ææ‰¾åˆ°æ¨¡å¼å’Œé¢‘ç‡ã€æƒ…æ„Ÿå’Œæ„ä¹‰ã€‚æœ¬è¯¾å°†å¸¦ä½ è¿›å…¥ä¸€ä¸ªçœŸå®çš„æ•°æ®é›†ï¼Œé¢ä¸´ä¸€ä¸ªçœŸå®çš„æŒ‘æˆ˜ï¼š**[æ¬§æ´²515Ké…’åº—è¯„è®ºæ•°æ®](https://www.kaggle.com/jiashenliu/515k-hotel-reviews-data-in-europe)**ï¼Œå¹¶åŒ…å«ä¸€ä¸ª[CC0ï¼šå…¬å…±é¢†åŸŸè®¸å¯](https://creativecommons.org/publicdomain/zero/1.0/)ã€‚å®ƒæ˜¯ä»Booking.comçš„å…¬å…±èµ„æºä¸­æŠ“å–çš„ã€‚æ•°æ®é›†çš„åˆ›å»ºè€…æ˜¯Jiashen Liuã€‚

### å‡†å¤‡

ä½ å°†éœ€è¦ï¼š

* èƒ½å¤Ÿä½¿ç”¨Python 3è¿è¡Œ.ipynbç¬”è®°æœ¬
* pandas
* NLTKï¼Œ[ä½ åº”è¯¥åœ¨æœ¬åœ°å®‰è£…](https://www.nltk.org/install.html)
* æ•°æ®é›†å¯åœ¨Kaggleä¸Šæ‰¾åˆ°[æ¬§æ´²515Ké…’åº—è¯„è®ºæ•°æ®](https://www.kaggle.com/jiashenliu/515k-hotel-reviews-data-in-europe)ã€‚è§£å‹åå¤§çº¦230 MBã€‚ä¸‹è½½åˆ°ä¸è¿™äº›NLPè¯¾ç¨‹ç›¸å…³çš„æ ¹`/data`æ–‡ä»¶å¤¹ä¸­ã€‚

## æ¢ç´¢æ€§æ•°æ®åˆ†æ

è¿™ä¸ªæŒ‘æˆ˜å‡è®¾ä½ æ­£åœ¨ä½¿ç”¨æƒ…æ„Ÿåˆ†æå’Œå®¢äººè¯„è®ºè¯„åˆ†æ¥æ„å»ºä¸€ä¸ªé…’åº—æ¨èæœºå™¨äººã€‚ä½ å°†ä½¿ç”¨çš„æ•°æ®é›†åŒ…æ‹¬6ä¸ªåŸå¸‚ä¸­1493å®¶ä¸åŒé…’åº—çš„è¯„è®ºã€‚

ä½¿ç”¨Pythonã€ä¸€ä¸ªé…’åº—è¯„è®ºæ•°æ®é›†å’ŒNLTKçš„æƒ…æ„Ÿåˆ†æï¼Œä½ å¯ä»¥æ‰¾å‡ºï¼š

* è¯„è®ºä¸­æœ€å¸¸ç”¨çš„è¯å’ŒçŸ­è¯­æ˜¯ä»€ä¹ˆï¼Ÿ
* æè¿°é…’åº—çš„å®˜æ–¹æ ‡ç­¾ä¸è¯„è®ºè¯„åˆ†æ˜¯å¦ç›¸å…³ï¼ˆä¾‹å¦‚ï¼ŒæŸä¸ªé…’åº—çš„â€œæœ‰å°å­©çš„å®¶åº­â€æ ‡ç­¾çš„è´Ÿé¢è¯„è®ºæ˜¯å¦å¤šäºâ€œå•äººæ—…è¡Œè€…â€çš„è´Ÿé¢è¯„è®ºï¼Œè¿™å¯èƒ½è¡¨æ˜å®ƒæ›´é€‚åˆå•äººæ—…è¡Œè€…ï¼Ÿï¼‰
* NLTKæƒ…æ„Ÿè¯„åˆ†æ˜¯å¦ä¸é…’åº—è¯„è®ºè€…çš„æ•°å€¼è¯„åˆ†ä¸€è‡´ï¼Ÿ

#### æ•°æ®é›†

è®©æˆ‘ä»¬æ¢ç´¢ä½ å·²ä¸‹è½½å¹¶ä¿å­˜åœ¨æœ¬åœ°çš„æ•°æ®é›†ã€‚ç”¨VS Codeæˆ–Excelç­‰ç¼–è¾‘å™¨æ‰“å¼€æ–‡ä»¶ã€‚

æ•°æ®é›†çš„æ ‡é¢˜å¦‚ä¸‹ï¼š

*Hotel_Address, Additional_Number_of_Scoring, Review_Date, Average_Score, Hotel_Name, Reviewer_Nationality, Negative_Review, Review_Total_Negative_Word_Counts, Total_Number_of_Reviews, Positive_Review, Review_Total_Positive_Word_Counts, Total_Number_of_Reviews_Reviewer_Has_Given, Reviewer_Score, Tags, days_since_review, lat, lng*

ä»¥ä¸‹æ˜¯æŒ‰ä¾¿äºæ£€æŸ¥çš„æ–¹å¼åˆ†ç»„çš„æ ‡é¢˜ï¼š
##### é…’åº—åˆ—

* `Hotel_Name`, `Hotel_Address`, `lat` (çº¬åº¦), `lng` (ç»åº¦)
  * ä½¿ç”¨*lat*å’Œ*lng*ä½ å¯ä»¥ç”¨Pythonç»˜åˆ¶ä¸€å¼ åœ°å›¾ï¼Œæ˜¾ç¤ºé…’åº—ä½ç½®ï¼ˆæˆ–è®¸ç”¨é¢œè‰²ç¼–ç è¡¨ç¤ºè´Ÿé¢å’Œæ­£é¢è¯„è®ºï¼‰
  * Hotel_Addresså¯¹æˆ‘ä»¬æ¥è¯´ä¸æ˜¯æ˜¾è€Œæ˜“è§çš„æœ‰ç”¨ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šç”¨å›½å®¶æ›¿æ¢å®ƒï¼Œä»¥ä¾¿æ›´å®¹æ˜“æ’åºå’Œæœç´¢

**é…’åº—å…ƒè¯„è®ºåˆ—**

* `Average_Score`
  * æ ¹æ®æ•°æ®é›†åˆ›å»ºè€…ï¼Œè¿™ä¸€åˆ—æ˜¯*é…’åº—çš„å¹³å‡è¯„åˆ†ï¼Œæ ¹æ®å»å¹´æœ€æ–°è¯„è®ºè®¡ç®—*ã€‚è¿™ç§è®¡ç®—è¯„åˆ†çš„æ–¹å¼ä¼¼ä¹æœ‰äº›ä¸å¯»å¸¸ï¼Œä½†è¿™æ˜¯æŠ“å–çš„æ•°æ®ï¼Œæ‰€ä»¥æˆ‘ä»¬æš‚ä¸”æ¥å—ã€‚

  âœ… åŸºäºæ•°æ®ä¸­çš„å…¶ä»–åˆ—ï¼Œä½ èƒ½æƒ³åˆ°å¦ä¸€ç§è®¡ç®—å¹³å‡è¯„åˆ†çš„æ–¹æ³•å—ï¼Ÿ

* `Total_Number_of_Reviews`
  * è¯¥é…’åº—æ”¶åˆ°çš„æ€»è¯„è®ºæ•° - ä¸æ¸…æ¥šï¼ˆä¸å†™ä»£ç çš„è¯ï¼‰è¿™æ˜¯å¦æŒ‡çš„æ˜¯æ•°æ®é›†ä¸­çš„è¯„è®ºæ•°ã€‚
* `Additional_Number_of_Scoring`
  * è¿™æ„å‘³ç€ç»™å‡ºäº†è¯„è®ºè¯„åˆ†ï¼Œä½†è¯„è®ºè€…æ²¡æœ‰å†™æ­£é¢æˆ–è´Ÿé¢è¯„è®º

**è¯„è®ºåˆ—**

- `Reviewer_Score`
  - è¿™æ˜¯ä¸€ä¸ªæœ€å¤šæœ‰ä¸€ä½å°æ•°çš„æ•°å€¼ï¼Œæœ€å°å€¼å’Œæœ€å¤§å€¼åœ¨2.5åˆ°10ä¹‹é—´
  - æ²¡æœ‰è§£é‡Šä¸ºä»€ä¹ˆ2.5æ˜¯æœ€ä½å¯èƒ½çš„è¯„åˆ†
- `Negative_Review`
  - å¦‚æœè¯„è®ºè€…ä»€ä¹ˆéƒ½æ²¡å†™ï¼Œè¿™ä¸€æ å°†æ˜¾ç¤ºâ€œ**No Negative**â€
  - æ³¨æ„è¯„è®ºè€…å¯èƒ½ä¼šåœ¨è´Ÿé¢è¯„è®ºæ å†™æ­£é¢è¯„è®ºï¼ˆä¾‹å¦‚ï¼Œâ€œè¿™å®¶é…’åº—æ²¡æœ‰ä»€ä¹ˆä¸å¥½çš„åœ°æ–¹â€ï¼‰
- `Review_Total_Negative_Word_Counts`
  - æ›´é«˜çš„è´Ÿé¢è¯æ±‡æ•°é‡è¡¨ç¤ºè¾ƒä½çš„è¯„åˆ†ï¼ˆä¸æ£€æŸ¥æƒ…æ„Ÿæ€§ï¼‰
- `Positive_Review`
  - å¦‚æœè¯„è®ºè€…ä»€ä¹ˆéƒ½æ²¡å†™ï¼Œè¿™ä¸€æ å°†æ˜¾ç¤ºâ€œ**No Positive**â€
  - æ³¨æ„è¯„è®ºè€…å¯èƒ½ä¼šåœ¨æ­£é¢è¯„è®ºæ å†™è´Ÿé¢è¯„è®ºï¼ˆä¾‹å¦‚ï¼Œâ€œè¿™å®¶é…’åº—æ ¹æœ¬æ²¡æœ‰ä»€ä¹ˆå¥½çš„åœ°æ–¹â€ï¼‰
- `Review_Total_Positive_Word_Counts`
  - æ›´é«˜çš„æ­£é¢è¯æ±‡æ•°é‡è¡¨ç¤ºè¾ƒé«˜çš„è¯„åˆ†ï¼ˆä¸æ£€æŸ¥æƒ…æ„Ÿæ€§ï¼‰
- `Review_Date`å’Œ`days_since_review`
  - å¯ä»¥å¯¹è¯„è®ºåº”ç”¨æ–°é²œåº¦æˆ–é™ˆæ—§åº¦çš„è¡¡é‡ï¼ˆè¾ƒæ—§çš„è¯„è®ºå¯èƒ½ä¸å¦‚è¾ƒæ–°çš„è¯„è®ºå‡†ç¡®ï¼Œå› ä¸ºé…’åº—ç®¡ç†å˜äº†ï¼Œæˆ–è¿›è¡Œäº†è£…ä¿®ï¼Œæˆ–æ·»åŠ äº†æ¸¸æ³³æ± ç­‰ï¼‰
- `Tags`
  - è¿™äº›æ˜¯è¯„è®ºè€…å¯èƒ½é€‰æ‹©ç”¨æ¥æè¿°ä»–ä»¬æ˜¯ä½•ç§å®¢äººçš„ç®€çŸ­æè¿°ï¼ˆä¾‹å¦‚ï¼Œå•äººæˆ–å®¶åº­ï¼‰ï¼Œä»–ä»¬ä½çš„æˆ¿é—´ç±»å‹ï¼Œåœç•™æ—¶é—´ä»¥åŠè¯„è®ºæäº¤çš„æ–¹å¼ã€‚
  - ä¸å¹¸çš„æ˜¯ï¼Œä½¿ç”¨è¿™äº›æ ‡ç­¾æ˜¯æœ‰é—®é¢˜çš„ï¼Œè¯·æŸ¥çœ‹ä¸‹é¢è®¨è®ºå®ƒä»¬å®ç”¨æ€§çš„éƒ¨åˆ†

**è¯„è®ºè€…åˆ—**

- `Total_Number_of_Reviews_Reviewer_Has_Given`
  - è¿™å¯èƒ½æ˜¯æ¨èæ¨¡å‹ä¸­çš„ä¸€ä¸ªå› ç´ ï¼Œä¾‹å¦‚ï¼Œå¦‚æœä½ èƒ½ç¡®å®šæ›´å¤šçš„å¤šäº§è¯„è®ºè€…ï¼ˆæœ‰æ•°ç™¾æ¡è¯„è®ºï¼‰æ›´å¯èƒ½ç»™å‡ºè´Ÿé¢è€Œä¸æ˜¯æ­£é¢çš„è¯„è®ºã€‚ç„¶è€Œï¼Œä»»ä½•ç‰¹å®šè¯„è®ºçš„è¯„è®ºè€…æ²¡æœ‰ç”¨å”¯ä¸€ä»£ç æ ‡è¯†ï¼Œå› æ­¤æ— æ³•é“¾æ¥åˆ°ä¸€ç»„è¯„è®ºã€‚æœ‰30ä½è¯„è®ºè€…æœ‰100æ¡æˆ–æ›´å¤šè¯„è®ºï¼Œä½†å¾ˆéš¾çœ‹å‡ºè¿™å¦‚ä½•æœ‰åŠ©äºæ¨èæ¨¡å‹ã€‚
- `Reviewer_Nationality`
  - æœ‰äº›äººå¯èƒ½è®¤ä¸ºæŸäº›å›½ç±çš„äººæ›´å¯èƒ½ç»™å‡ºæ­£é¢æˆ–è´Ÿé¢è¯„è®ºï¼Œå› ä¸ºæœ‰å›½å®¶å€¾å‘ã€‚å°å¿ƒå°†è¿™ç§è½¶äº‹è§‚ç‚¹æ„å»ºåˆ°ä½ çš„æ¨¡å‹ä¸­ã€‚è¿™äº›æ˜¯å›½å®¶ï¼ˆæœ‰æ—¶æ˜¯ç§æ—ï¼‰åˆ»æ¿å°è±¡ï¼Œæ¯ä¸ªè¯„è®ºè€…éƒ½æ˜¯åŸºäºä»–ä»¬çš„ç»éªŒå†™è¯„è®ºçš„ä¸ªä½“ã€‚å¯èƒ½é€šè¿‡å¤šç§é•œå¤´è¿‡æ»¤ï¼Œå¦‚ä»–ä»¬ä»¥å‰çš„é…’åº—ä½å®¿ã€æ—…è¡Œè·ç¦»å’Œä¸ªäººæ€§æ ¼ã€‚è®¤ä¸ºä»–ä»¬çš„å›½ç±æ˜¯è¯„è®ºè¯„åˆ†çš„åŸå› æ˜¯éš¾ä»¥è¯æ˜çš„ã€‚

##### ç¤ºä¾‹

| å¹³å‡è¯„åˆ† | æ€»è¯„è®ºæ•° | è¯„è®ºè€…è¯„åˆ† | è´Ÿé¢è¯„è®º                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | æ­£é¢è¯„è®º                 | æ ‡ç­¾                                                                                      |
| -------------- | ---------------------- | ---------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------- | ----------------------------------------------------------------------------------------- |
| 7.8            | 1945                   | 2.5              | è¿™ç›®å‰ä¸æ˜¯ä¸€å®¶é…’åº—ï¼Œè€Œæ˜¯ä¸€ä¸ªæ–½å·¥ç°åœºã€‚æˆ‘ä»æ—©ä¸Šåˆ°å…¨å¤©éƒ½è¢«ä¸å¯æ¥å—çš„å»ºç­‘å™ªéŸ³å“åäº†ï¼Œæ— æ³•åœ¨é•¿é€”æ—…è¡Œåä¼‘æ¯å’Œåœ¨æˆ¿é—´å·¥ä½œã€‚äººä»¬æ•´å¤©éƒ½åœ¨ç”¨å‡¿å²©æœºåœ¨ç›¸é‚»æˆ¿é—´å·¥ä½œã€‚æˆ‘è¦æ±‚æ¢æˆ¿ï¼Œä½†æ²¡æœ‰å®‰é™çš„æˆ¿é—´ã€‚æ›´ç³Ÿçš„æ˜¯ï¼Œæˆ‘è¢«å¤šæ”¶äº†è´¹ç”¨ã€‚æˆ‘åœ¨æ™šä¸Šé€€æˆ¿ï¼Œå› ä¸ºæˆ‘æœ‰å¾ˆæ—©çš„èˆªç­ï¼Œå¹¶æ”¶åˆ°äº†ä¸€å¼ åˆé€‚çš„è´¦å•ã€‚ä¸€å¤©åï¼Œé…’åº—æœªç»æˆ‘åŒæ„å†æ¬¡æ”¶å–è¶…å‡ºé¢„è®¢ä»·æ ¼çš„è´¹ç”¨ã€‚è¿™æ˜¯ä¸€ä¸ªå¯æ€•çš„åœ°æ–¹ï¼Œä¸è¦é€šè¿‡é¢„è®¢æ¥æƒ©ç½šè‡ªå·±ã€‚ | æ²¡æœ‰ä»»ä½•å¥½åœ°æ–¹ï¼Œè¿œç¦»è¿™é‡Œ | å•†åŠ¡æ—…è¡Œï¼Œå¤«å¦»æ ‡å‡†åŒäººæˆ¿ï¼Œä½äº†2æ™š |

å¦‚ä½ æ‰€è§ï¼Œè¿™ä½å®¢äººåœ¨è¿™å®¶é…’åº—ä½å¾—å¹¶ä¸æ„‰å¿«ã€‚è¿™å®¶é…’åº—æœ‰7.8çš„è‰¯å¥½å¹³å‡è¯„åˆ†å’Œ1945æ¡è¯„è®ºï¼Œä½†è¿™ä½è¯„è®ºè€…ç»™äº†2.5åˆ†ï¼Œå¹¶å†™äº†115ä¸ªå­—æè¿°ä»–ä»¬çš„è´Ÿé¢ç»å†ã€‚å¦‚æœä»–ä»¬åœ¨Positive_Reviewæ ä¸­ä»€ä¹ˆéƒ½æ²¡å†™ï¼Œä½ å¯èƒ½ä¼šæ¨æµ‹æ²¡æœ‰ä»€ä¹ˆæ­£é¢çš„ï¼Œä½†ä»–ä»¬å†™äº†7ä¸ªè­¦å‘Šè¯ã€‚å¦‚æœæˆ‘ä»¬åªæ˜¯æ•°è¯è€Œä¸æ˜¯è¯çš„æ„ä¹‰æˆ–æƒ…æ„Ÿï¼Œæˆ‘ä»¬å¯èƒ½ä¼šå¯¹è¯„è®ºè€…çš„æ„å›¾æœ‰åå·®çš„çœ‹æ³•ã€‚å¥‡æ€ªçš„æ˜¯ï¼Œä»–ä»¬çš„2.5åˆ†ä»¤äººå›°æƒ‘ï¼Œå› ä¸ºå¦‚æœé…’åº—ä½å®¿å¦‚æ­¤ç³Ÿç³•ï¼Œä¸ºä»€ä¹ˆè¿˜ç»™å®ƒä»»ä½•åˆ†æ•°ï¼Ÿä»”ç»†è°ƒæŸ¥æ•°æ®é›†ï¼Œä½ ä¼šå‘ç°æœ€ä½å¯èƒ½çš„åˆ†æ•°æ˜¯2.5ï¼Œè€Œä¸æ˜¯0ã€‚æœ€é«˜å¯èƒ½çš„åˆ†æ•°æ˜¯10ã€‚

##### æ ‡ç­¾

å¦‚ä¸Šæ‰€è¿°ï¼Œä¹ä¸€çœ‹ï¼Œä½¿ç”¨`Tags`æ¥åˆ†ç±»æ•°æ®çš„æƒ³æ³•æ˜¯æœ‰é“ç†çš„ã€‚ä¸å¹¸çš„æ˜¯ï¼Œè¿™äº›æ ‡ç­¾æ²¡æœ‰æ ‡å‡†åŒ–ï¼Œè¿™æ„å‘³ç€åœ¨ç»™å®šçš„é…’åº—ä¸­ï¼Œé€‰é¡¹å¯èƒ½æ˜¯*å•äººæˆ¿*ã€*åŒäººæˆ¿*å’Œ*åŒäººæˆ¿*ï¼Œä½†åœ¨ä¸‹ä¸€å®¶é…’åº—ä¸­ï¼Œå®ƒä»¬æ˜¯*è±ªåå•äººæˆ¿*ã€*ç»å…¸å¤§åºŠæˆ¿*å’Œ*è¡Œæ”¿å¤§åºŠæˆ¿*ã€‚è¿™äº›å¯èƒ½æ˜¯ç›¸åŒçš„ä¸œè¥¿ï¼Œä½†æœ‰å¤ªå¤šçš„å˜ä½“ï¼Œé€‰æ‹©å˜å¾—ï¼š

1. å°è¯•å°†æ‰€æœ‰æœ¯è¯­æ›´æ”¹ä¸ºå•ä¸€æ ‡å‡†ï¼Œè¿™éå¸¸å›°éš¾ï¼Œå› ä¸ºä¸æ¸…æ¥šæ¯ç§æƒ…å†µä¸‹çš„è½¬æ¢è·¯å¾„æ˜¯ä»€ä¹ˆï¼ˆä¾‹å¦‚ï¼Œ*ç»å…¸å•äººæˆ¿*æ˜ å°„åˆ°*å•äººæˆ¿*ï¼Œä½†*å¸¦åº­é™¢èŠ±å›­æˆ–åŸå¸‚æ™¯è§‚çš„é«˜çº§å¤§åºŠæˆ¿*æ›´éš¾æ˜ å°„ï¼‰

1. æˆ‘ä»¬å¯ä»¥é‡‡å–NLPæ–¹æ³•ï¼Œæµ‹é‡æŸäº›æœ¯è¯­å¦‚*å•äººæ—…è¡Œè€…*ã€*å•†åŠ¡æ—…è¡Œè€…*æˆ–*å¸¦å°å­©çš„å®¶åº­*åœ¨æ¯å®¶é…’åº—ä¸­çš„é¢‘ç‡ï¼Œå¹¶å°†å…¶çº³å…¥æ¨è

æ ‡ç­¾é€šå¸¸ï¼ˆä½†ä¸æ€»æ˜¯ï¼‰æ˜¯ä¸€ä¸ªåŒ…å«5åˆ°6ä¸ªé€—å·åˆ†éš”å€¼çš„å­—æ®µï¼Œå¯¹åº”äº*æ—…è¡Œç±»å‹*ã€*å®¢äººç±»å‹*ã€*æˆ¿é—´ç±»å‹*ã€*å¤œæ™šæ•°*å’Œ*æäº¤è¯„è®ºçš„è®¾å¤‡ç±»å‹*ã€‚ç„¶è€Œï¼Œå› ä¸ºæœ‰äº›è¯„è®ºè€…æ²¡æœ‰å¡«å†™æ¯ä¸ªå­—æ®µï¼ˆä»–ä»¬å¯èƒ½ç•™ä¸€ä¸ªç©ºç™½ï¼‰ï¼Œå€¼å¹¶ä¸æ€»æ˜¯æŒ‰ç›¸åŒé¡ºåºæ’åˆ—ã€‚

ä¾‹å¦‚ï¼Œå–*ç»„ç±»å‹*ã€‚åœ¨`Tags`åˆ—ä¸­æœ‰1025ç§ç‹¬ç‰¹çš„å¯èƒ½æ€§ï¼Œä¸å¹¸çš„æ˜¯ï¼Œåªæœ‰ä¸€éƒ¨åˆ†æŒ‡çš„æ˜¯ç»„ï¼ˆæœ‰äº›æ˜¯æˆ¿é—´ç±»å‹ç­‰ï¼‰ã€‚å¦‚æœä½ åªè¿‡æ»¤æåˆ°å®¶åº­çš„é‚£äº›ï¼Œç»“æœåŒ…å«è®¸å¤š*å®¶åº­æˆ¿*ç±»å‹çš„ç»“æœã€‚å¦‚æœä½ åŒ…æ‹¬*å¸¦*è¿™ä¸ªè¯ï¼Œå³è®¡ç®—*å¸¦*å€¼çš„*å®¶åº­*ï¼Œç»“æœæ›´å¥½ï¼Œåœ¨515,000ä¸ªç»“æœä¸­æœ‰è¶…è¿‡80,000ä¸ªåŒ…å«â€œå¸¦å°å­©çš„å®¶åº­â€æˆ–â€œå¸¦å¤§å­©å­çš„å®¶åº­â€çŸ­è¯­ã€‚

è¿™æ„å‘³ç€æ ‡ç­¾åˆ—å¯¹æˆ‘ä»¬æ¥è¯´å¹¶éå®Œå…¨æ— ç”¨ï¼Œä½†éœ€è¦ä¸€äº›å·¥ä½œä½¿å…¶æœ‰ç”¨ã€‚

##### é…’åº—å¹³å‡è¯„åˆ†

æ•°æ®é›†ä¸­æœ‰ä¸€äº›å¥‡æ€ªä¹‹å¤„æˆ–å·®å¼‚ï¼Œæˆ‘æ— æ³•å¼„æ¸…æ¥šï¼Œä½†åœ¨æ­¤è¯´æ˜ä»¥ä¾¿ä½ åœ¨æ„å»ºæ¨¡å‹æ—¶æ³¨æ„åˆ°å®ƒä»¬ã€‚å¦‚æœä½ å¼„æ¸…æ¥šäº†ï¼Œè¯·åœ¨è®¨è®ºåŒºå‘Šè¯‰æˆ‘ä»¬ï¼

æ•°æ®é›†æœ‰ä»¥ä¸‹åˆ—ä¸å¹³å‡è¯„åˆ†å’Œè¯„è®ºæ•°é‡ç›¸å…³ï¼š

1. Hotel_Name
2. Additional_Number_of_Scoring
3. Average_Score
4. Total_Number_of_Reviews
5. Reviewer_Score  

æ•°æ®é›†ä¸­è¯„è®ºæœ€å¤šçš„å•ä¸ªé…’åº—æ˜¯*Britannia International Hotel Canary Wharf*ï¼Œæœ‰4789æ¡è¯„è®ºä¸­çš„515,000æ¡ã€‚ä½†å¦‚æœæˆ‘ä»¬çœ‹`Total_Number_of_Reviews`å€¼ï¼Œè¿™å®¶é…’åº—æ˜¯9086ã€‚ä½ å¯èƒ½æ¨æµ‹æœ‰æ›´å¤šæ²¡æœ‰è¯„è®ºçš„è¯„åˆ†ï¼Œæ‰€ä»¥ä¹Ÿè®¸æˆ‘ä»¬åº”è¯¥åŠ ä¸Š`Additional_Number_of_Scoring`åˆ—å€¼ã€‚è¯¥å€¼æ˜¯2682ï¼ŒåŠ ä¸Š4789å¾—åˆ°7471ï¼Œä»ç„¶æ¯”`Total_Number_of_Reviews`å°‘1615ã€‚

å¦‚æœä½ å–`Average_Score`åˆ—ï¼Œä½ å¯èƒ½æ¨æµ‹å®ƒæ˜¯æ•°æ®é›†ä¸­è¯„è®ºçš„å¹³å‡å€¼ï¼Œä½†Kaggleçš„æè¿°æ˜¯â€œ*æ ¹æ®å»å¹´æœ€æ–°è¯„è®ºè®¡ç®—çš„é…’åº—å¹³å‡è¯„åˆ†*â€ã€‚è¿™ä¼¼ä¹æ²¡æœ‰é‚£ä¹ˆæœ‰ç”¨ï¼Œä½†æˆ‘ä»¬å¯ä»¥æ ¹æ®æ•°æ®é›†ä¸­çš„è¯„è®ºè¯„åˆ†è®¡ç®—è‡ªå·±çš„å¹³å‡å€¼ã€‚ä»¥åŒä¸€å®¶é…’åº—ä¸ºä¾‹ï¼Œç»™å‡ºçš„é…’åº—å¹³å‡è¯„åˆ†æ˜¯7.1ï¼Œä½†è®¡ç®—å¾—å‡ºçš„è¯„åˆ†ï¼ˆæ•°æ®é›†ä¸­è¯„è®ºè€…çš„å¹³å‡è¯„åˆ†ï¼‰æ˜¯6.8ã€‚è¿™æ¥è¿‘ä½†ä¸æ˜¯ç›¸åŒçš„å€¼ï¼Œæˆ‘ä»¬åªèƒ½çŒœæµ‹`Additional_Number_of_Scoring`è¯„è®ºä¸­çš„è¯„åˆ†å°†å¹³å‡å€¼æé«˜åˆ°7.1ã€‚ä¸å¹¸çš„æ˜¯ï¼Œæ²¡æœ‰åŠæ³•æµ‹è¯•æˆ–è¯æ˜è¿™ä¸€æ–­è¨€ï¼Œå› æ­¤å¾ˆéš¾ä½¿ç”¨æˆ–ä¿¡ä»»`Average_Score`ã€`Additional_Number_of_Scoring`å’Œ`Total_Number_of_Reviews`ï¼Œå› ä¸ºå®ƒä»¬åŸºäºæˆ–å¼•ç”¨äº†æˆ‘ä»¬æ²¡æœ‰çš„æ•°æ®ã€‚

æ›´å¤æ‚çš„æ˜¯ï¼Œè¯„è®ºç¬¬äºŒå¤šçš„é…’åº—çš„è®¡ç®—å¹³å‡è¯„åˆ†ä¸º8.12ï¼Œè€Œæ•°æ®é›†`Average_Score`æ˜¯8.1ã€‚è¿™æ˜¯æ­£ç¡®çš„è¯„åˆ†å·§åˆè¿˜æ˜¯ç¬¬ä¸€å®¶é…’åº—çš„å·®å¼‚ï¼Ÿ

è€ƒè™‘åˆ°è¿™äº›é…’åº—å¯èƒ½æ˜¯å¼‚å¸¸å€¼ï¼Œä¹Ÿè®¸å¤§å¤šæ•°å€¼åŒ¹é…ï¼ˆä½†æŸäº›åŸå› å¯¼è‡´éƒ¨åˆ†ä¸åŒ¹é…ï¼‰ï¼Œæˆ‘ä»¬å°†åœ¨ä¸‹ä¸€æ­¥ç¼–å†™ä¸€ä¸ªçŸ­ç¨‹åºæ¥æ¢ç´¢æ•°æ®é›†ä¸­çš„å€¼ï¼Œå¹¶ç¡®å®šè¿™äº›å€¼çš„æ­£ç¡®ä½¿ç”¨ï¼ˆæˆ–ä¸ä½¿ç”¨ï¼‰ã€‚

> ğŸš¨ æ³¨æ„
>
> ä½¿ç”¨æ­¤æ•°æ®é›†æ—¶ï¼Œä½ å°†ç¼–å†™ä»£ç ä»æ–‡æœ¬ä¸­è®¡ç®—æŸäº›å†…å®¹ï¼Œè€Œä¸å¿…è‡ªå·±é˜…è¯»æˆ–åˆ†ææ–‡æœ¬ã€‚è¿™æ˜¯NLPçš„æœ¬è´¨ï¼Œè§£é‡Šæ„ä¹‰æˆ–æƒ…æ„Ÿè€Œä¸éœ€è¦äººç±»æ¥åšã€‚ç„¶è€Œï¼Œä½ å¯èƒ½ä¼šé˜…è¯»ä¸€äº›è´Ÿé¢è¯„è®ºã€‚æˆ‘å»ºè®®ä½ ä¸è¦è¿™æ ·åšï¼Œå› ä¸ºä½ ä¸éœ€è¦è¿™æ ·åšã€‚æœ‰äº›æ˜¯æ„šè ¢çš„æˆ–æ— å…³ç´§è¦çš„è´Ÿé¢é…’åº—è¯„è®ºï¼Œå¦‚â€œå¤©æ°”ä¸å¥½â€ï¼Œè¿™æ˜¯é…’åº—æˆ–ä»»ä½•äººæ— æ³•æ§åˆ¶çš„ã€‚ä½†ä¹Ÿæœ‰ä¸€äº›è´Ÿé¢è¯„è®ºæ˜¯ç§æ—ä¸»ä¹‰ã€æ€§åˆ«æ­§è§†æˆ–å¹´é¾„æ­§è§†çš„ã€‚è¿™æ˜¯ä»å…¬å…±ç½‘ç«™æŠ“å–çš„æ•°æ®é›†ä¸­ä¸å¯é¿å…çš„ã€‚æŸäº›è¯„è®ºè€…ç•™ä¸‹çš„è¯„è®ºä¼šè®©ä½ è§‰å¾—ä»¤äººåæ„Ÿã€ä¸èˆ’æœæˆ–ä¸å®‰ã€‚æœ€å¥½è®©ä»£ç æµ‹é‡æƒ…æ„Ÿï¼Œè€Œä¸æ˜¯è‡ªå·±é˜…è¯»å®ƒä»¬å¹¶æ„Ÿåˆ°ä¸å®‰ã€‚å°½ç®¡å¦‚æ­¤ï¼Œå†™è¿™ç§ä¸œè¥¿çš„äººæ˜¯å°‘æ•°ï¼Œä½†å®ƒä»¬ä¾ç„¶å­˜åœ¨ã€‚

## ç»ƒä¹  - æ•°æ®æ¢ç´¢
### åŠ è½½æ•°æ®

è§†è§‰æ£€æŸ¥æ•°æ®å·²ç»å¤Ÿå¤šäº†ï¼Œç°åœ¨ä½ å°†ç¼–å†™ä¸€äº›ä»£ç å¹¶å¾—åˆ°ä¸€äº›ç­”æ¡ˆï¼æœ¬èŠ‚ä½¿ç”¨pandasåº“ã€‚ä½ çš„ç¬¬ä¸€ä¸ªä»»åŠ¡æ˜¯ç¡®ä¿ä½ èƒ½åŠ è½½å’Œè¯»å–CSVæ•°æ®ã€‚pandasåº“æœ‰ä¸€ä¸ªå¿«é€Ÿçš„CSVåŠ è½½å™¨ï¼Œç»“æœæ”¾åœ¨ä¸€ä¸ªæ•°æ®æ¡†ä¸­ï¼Œå¦‚å‰å‡ è¯¾æ‰€ç¤ºã€‚æˆ‘ä»¬åŠ è½½çš„CSVæœ‰è¶…è¿‡50ä¸‡è¡Œï¼Œä½†åªæœ‰17åˆ—ã€‚pandasä¸ºä½ æä¾›äº†è®¸å¤šå¼ºå¤§çš„æ–¹æ³•ä¸æ•°æ®æ¡†äº¤äº’ï¼ŒåŒ…æ‹¬å¯¹æ¯ä¸€è¡Œæ‰§è¡Œæ“ä½œçš„èƒ½åŠ›ã€‚

ä»è¿™é‡Œå¼€å§‹ï¼Œå°†æœ‰ä»£ç ç‰‡æ®µå’Œä¸€äº›ä»£ç è§£é‡Šä»¥åŠä¸€äº›å…³äºç»“æœå«ä¹‰çš„è®¨è®ºã€‚ä½¿ç”¨åŒ…å«çš„_notebook.ipynb_è¿›è¡Œä½ çš„ä»£ç ç¼–å†™ã€‚

è®©æˆ‘ä»¬ä»åŠ è½½ä½ å°†ä½¿ç”¨çš„æ•°æ®æ–‡ä»¶å¼€å§‹ï¼š

```python
# Load the hotel reviews from CSV
import pandas as pd
import time
# importing time so the start and end time can be used to calculate file loading time
print("Loading data file now, this could take a while depending on file size")
start = time.time()
# df is 'DataFrame' - make sure you downloaded the file to the data folder
df = pd.read_csv('../../data/Hotel_Reviews.csv')
end = time.time()
print("Loading took " + str(round(end - start, 2)) + " seconds")
```

ç°åœ¨æ•°æ®å·²åŠ è½½ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹å…¶è¿›è¡Œä¸€äº›æ“ä½œã€‚å°†æ­¤ä»£ç ä¿ç•™åœ¨ç¨‹åºé¡¶éƒ¨ä»¥ä¾¿ä¸‹ä¸€éƒ¨åˆ†ä½¿ç”¨ã€‚

## æ¢ç´¢æ•°æ®

åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ•°æ®å·²ç»æ˜¯*å¹²å‡€çš„*ï¼Œè¿™æ„å‘³ç€å®ƒå·²ç»å‡†å¤‡å¥½ä½¿ç”¨ï¼Œå¹¶ä¸”æ²¡æœ‰å¯èƒ½ä½¿åªæœŸæœ›è‹±æ–‡å­—ç¬¦çš„ç®—æ³•å‡ºé”™çš„å…¶ä»–è¯­è¨€å­—ç¬¦ã€‚

âœ… ä½ å¯èƒ½éœ€è¦å¤„ç†éœ€è¦ä¸€äº›åˆæ­¥å¤„ç†æ‰èƒ½æ ¼å¼åŒ–çš„æ•°æ®ï¼Œç„¶ååº”ç”¨NLPæŠ€æœ¯ï¼Œä½†è¿™æ¬¡ä¸éœ€è¦ã€‚å¦‚æœéœ€è¦ï¼Œä½ å°†å¦‚ä½•å¤„ç†éè‹±æ–‡å­—ç¬¦ï¼Ÿ

èŠ±ç‚¹æ—¶é—´ç¡®ä¿æ•°æ®åŠ è½½åï¼Œä½ å¯ä»¥ç”¨ä»£ç æ¢ç´¢å®ƒã€‚éå¸¸å®¹æ˜“æƒ³è¦ä¸“æ³¨äº`Negative_Review`å’Œ`Positive_Review`åˆ—ã€‚å®ƒä»¬å……æ»¡äº†ä½ çš„NLPç®—æ³•è¦å¤„ç†çš„è‡ªç„¶æ–‡æœ¬ã€‚ä½†ç­‰ç­‰ï¼åœ¨ä½ è·³å…¥NLPå’Œæƒ…æ„Ÿåˆ†æä¹‹å‰ï¼Œä½ åº”è¯¥æŒ‰ç…§ä¸‹é¢çš„ä»£ç ç¡®å®šæ•°æ®é›†ä¸­ç»™å®šçš„å€¼æ˜¯å¦ä¸ä½ ç”¨pandasè®¡ç®—çš„å€¼åŒ¹é…ã€‚

## æ•°æ®æ¡†æ“ä½œ

æœ¬è¯¾çš„ç¬¬ä¸€ä¸ªä»»åŠ¡æ˜¯ç¼–å†™ä¸€äº›ä»£ç æ£€æŸ¥ä»¥ä¸‹æ–­è¨€æ˜¯å¦æ­£ç¡®ï¼ˆä¸æ›´æ”¹æ•°æ®æ¡†ï¼‰ã€‚

> åƒè®¸å¤šç¼–ç¨‹ä»»åŠ¡ä¸€æ ·ï¼Œæœ‰å‡ ç§æ–¹æ³•å¯ä»¥å®Œæˆå®ƒï¼Œä½†å¥½çš„å»ºè®®æ˜¯ä»¥æœ€ç®€å•ã€æœ€å®¹æ˜“ç†è§£çš„æ–¹å¼å®Œæˆï¼Œç‰¹åˆ«æ˜¯å½“ä½ å°†æ¥å›åˆ°è¿™æ®µä»£ç æ—¶æ›´å®¹æ˜“ç†è§£ã€‚å¯¹äºæ•°æ®æ¡†ï¼Œæœ‰ä¸€ä¸ªå…¨é¢çš„APIï¼Œé€šå¸¸æœ‰ä¸€ç§æ–¹æ³•å¯ä»¥é«˜æ•ˆåœ°å®Œæˆä½ æƒ³è¦çš„æ“ä½œã€‚
å°†ä»¥ä¸‹é—®é¢˜è§†ä¸ºç¼–ç ä»»åŠ¡ï¼Œå°è¯•åœ¨ä¸æŸ¥çœ‹è§£å†³æ–¹æ¡ˆçš„æƒ…å†µä¸‹å›ç­”å®ƒä»¬ã€‚
1. æ‰“å°å‡ºä½ åˆšåŠ è½½çš„æ•°æ®æ¡†çš„*å½¢çŠ¶*ï¼ˆå½¢çŠ¶æ˜¯è¡Œæ•°å’Œåˆ—æ•°ï¼‰
2. è®¡ç®—è¯„è®ºè€…å›½ç±çš„é¢‘ç‡è®¡æ•°ï¼š
  1. åˆ—`Reviewer_Nationality`æœ‰å¤šå°‘ä¸åŒçš„å€¼ï¼Œå®ƒä»¬æ˜¯ä»€ä¹ˆï¼Ÿ
  2. æ•°æ®é›†ä¸­æœ€å¸¸è§çš„è¯„è®ºè€…å›½ç±æ˜¯ä»€ä¹ˆï¼ˆæ‰“å°å›½å®¶å’Œè¯„è®ºæ•°ï¼‰ï¼Ÿ
  3. ä¸‹ä¸€ä¸ªæœ€å¸¸è§çš„10ä¸ªå›½ç±åŠå…¶é¢‘ç‡è®¡æ•°æ˜¯ä»€ä¹ˆï¼Ÿ
3. æ¯ä¸ªæœ€å¸¸è§çš„10ä¸ªè¯„è®ºè€…å›½ç±ä¸­è¯„è®ºæœ€å¤šçš„é…’åº—æ˜¯ä»€ä¹ˆï¼Ÿ
4. æ•°æ®é›†ä¸­æ¯å®¶é…’åº—æœ‰å¤šå°‘è¯„è®ºï¼ˆé…’åº—çš„é¢‘ç‡è®¡æ•°ï¼‰ï¼Ÿ
5. è™½ç„¶æ•°æ®é›†ä¸­æ¯å®¶é…’åº—éƒ½æœ‰`Average_Score`åˆ—ï¼Œä½†ä½ ä¹Ÿå¯ä»¥è®¡ç®—ä¸€ä¸ªå¹³å‡è¯„åˆ†ï¼ˆè·å–æ•°æ®é›†ä¸­æ¯å®¶é…’åº—çš„æ‰€æœ‰è¯„è®ºè€…è¯„åˆ†çš„å¹³å‡å€¼ï¼‰ã€‚åœ¨ä½ çš„æ•°æ®æ¡†ä¸­æ·»åŠ ä¸€ä¸ªæ–°åˆ—ï¼Œæ ‡é¢˜ä¸º`Calc_Average_Score`ï¼ŒåŒ…å«è®¡ç®—çš„å¹³å‡å€¼ã€‚
6. æ˜¯å¦æœ‰ä»»ä½•é…’åº—çš„`Average_Score`å’Œ`Calc_Average_Score`ï¼ˆå››èˆäº”å…¥åˆ°ä¸€ä½å°æ•°ï¼‰ç›¸åŒï¼Ÿä½¿ç”¨`?
   1. Try writing a Python function that takes a Series (row) as an argument and compares the values, printing out a message when the values are not equal. Then use the `.apply()æ–¹æ³•å¤„ç†æ¯ä¸€è¡Œã€‚
7. è®¡ç®—å¹¶æ‰“å°å‡º`Negative_Review`åˆ—å€¼ä¸ºâ€œNo Negativeâ€çš„è¡Œæ•°
8. è®¡ç®—å¹¶æ‰“å°å‡º`Positive_Review`åˆ—å€¼ä¸ºâ€œNo Positiveâ€çš„è¡Œæ•°
rows have column `Positive_Review` values of "No Positive" 9. Calculate and print out how many rows have column `Positive_Review` values of "No Positive" **and** `Negative_Review` values of "No Negative" ### Code answers 1. Print out the *shape* of the data frame you have just loaded (the shape is the number of rows and columns) ```python
   print("The shape of the data (rows, cols) is " + str(df.shape))
   > The shape of the data (rows, cols) is (515738, 17)
   ``` 2. Calculate the frequency count for reviewer nationalities: 1. How many distinct values are there for the column `Reviewer_Nationality` and what are they? 2. What reviewer nationality is the most common in the dataset (print country and number of reviews)? ```python
   # value_counts() creates a Series object that has index and values in this case, the country and the frequency they occur in reviewer nationality
   nationality_freq = df["Reviewer_Nationality"].value_counts()
   print("There are " + str(nationality_freq.size) + " different nationalities")
   # print first and last rows of the Series. Change to nationality_freq.to_string() to print all of the data
   print(nationality_freq) 
   
   There are 227 different nationalities
    United Kingdom               245246
    United States of America      35437
    Australia                     21686
    Ireland                       14827
    United Arab Emirates          10235
                                  ...  
    Comoros                           1
    Palau                             1
    Northern Mariana Islands          1
    Cape Verde                        1
    Guinea                            1
   Name: Reviewer_Nationality, Length: 227, dtype: int64
   ``` 3. What are the next top 10 most frequently found nationalities, and their frequency count? ```python
      print("The highest frequency reviewer nationality is " + str(nationality_freq.index[0]).strip() + " with " + str(nationality_freq[0]) + " reviews.")
      # Notice there is a leading space on the values, strip() removes that for printing
      # What is the top 10 most common nationalities and their frequencies?
      print("The next 10 highest frequency reviewer nationalities are:")
      print(nationality_freq[1:11].to_string())
      
      The highest frequency reviewer nationality is United Kingdom with 245246 reviews.
      The next 10 highest frequency reviewer nationalities are:
       United States of America     35437
       Australia                    21686
       Ireland                      14827
       United Arab Emirates         10235
       Saudi Arabia                  8951
       Netherlands                   8772
       Switzerland                   8678
       Germany                       7941
       Canada                        7894
       France                        7296
      ``` 3. What was the most frequently reviewed hotel for each of the top 10 most reviewer nationalities? ```python
   # What was the most frequently reviewed hotel for the top 10 nationalities
   # Normally with pandas you will avoid an explicit loop, but wanted to show creating a new dataframe using criteria (don't do this with large amounts of data because it could be very slow)
   for nat in nationality_freq[:10].index:
      # First, extract all the rows that match the criteria into a new dataframe
      nat_df = df[df["Reviewer_Nationality"] == nat]   
      # Now get the hotel freq
      freq = nat_df["Hotel_Name"].value_counts()
      print("The most reviewed hotel for " + str(nat).strip() + " was " + str(freq.index[0]) + " with " + str(freq[0]) + " reviews.") 
      
   The most reviewed hotel for United Kingdom was Britannia International Hotel Canary Wharf with 3833 reviews.
   The most reviewed hotel for United States of America was Hotel Esther a with 423 reviews.
   The most reviewed hotel for Australia was Park Plaza Westminster Bridge London with 167 reviews.
   The most reviewed hotel for Ireland was Copthorne Tara Hotel London Kensington with 239 reviews.
   The most reviewed hotel for United Arab Emirates was Millennium Hotel London Knightsbridge with 129 reviews.
   The most reviewed hotel for Saudi Arabia was The Cumberland A Guoman Hotel with 142 reviews.
   The most reviewed hotel for Netherlands was Jaz Amsterdam with 97 reviews.
   The most reviewed hotel for Switzerland was Hotel Da Vinci with 97 reviews.
   The most reviewed hotel for Germany was Hotel Da Vinci with 86 reviews.
   The most reviewed hotel for Canada was St James Court A Taj Hotel London with 61 reviews.
   ``` 4. How many reviews are there per hotel (frequency count of hotel) in the dataset? ```python
   # First create a new dataframe based on the old one, removing the uneeded columns
   hotel_freq_df = df.drop(["Hotel_Address", "Additional_Number_of_Scoring", "Review_Date", "Average_Score", "Reviewer_Nationality", "Negative_Review", "Review_Total_Negative_Word_Counts", "Positive_Review", "Review_Total_Positive_Word_Counts", "Total_Number_of_Reviews_Reviewer_Has_Given", "Reviewer_Score", "Tags", "days_since_review", "lat", "lng"], axis = 1)
   
   # Group the rows by Hotel_Name, count them and put the result in a new column Total_Reviews_Found
   hotel_freq_df['Total_Reviews_Found'] = hotel_freq_df.groupby('Hotel_Name').transform('count')
   
   # Get rid of all the duplicated rows
   hotel_freq_df = hotel_freq_df.drop_duplicates(subset = ["Hotel_Name"])
   display(hotel_freq_df) 
   ``` | Hotel_Name | Total_Number_of_Reviews | Total_Reviews_Found | | :----------------------------------------: | :---------------------: | :-----------------: | | Britannia International Hotel Canary Wharf | 9086 | 4789 | | Park Plaza Westminster Bridge London | 12158 | 4169 | | Copthorne Tara Hotel London Kensington | 7105 | 3578 | | ... | ... | ... | | Mercure Paris Porte d Orleans | 110 | 10 | | Hotel Wagner | 135 | 10 | | Hotel Gallitzinberg | 173 | 8 | You may notice that the *counted in the dataset* results do not match the value in `Total_Number_of_Reviews`. It is unclear if this value in the dataset represented the total number of reviews the hotel had, but not all were scraped, or some other calculation. `Total_Number_of_Reviews` is not used in the model because of this unclarity. 5. While there is an `Average_Score` column for each hotel in the dataset, you can also calculate an average score (getting the average of all reviewer scores in the dataset for each hotel). Add a new column to your dataframe with the column header `Calc_Average_Score` that contains that calculated average. Print out the columns `Hotel_Name`, `Average_Score`, and `Calc_Average_Score`. ```python
   # define a function that takes a row and performs some calculation with it
   def get_difference_review_avg(row):
     return row["Average_Score"] - row["Calc_Average_Score"]
   
   # 'mean' is mathematical word for 'average'
   df['Calc_Average_Score'] = round(df.groupby('Hotel_Name').Reviewer_Score.transform('mean'), 1)
   
   # Add a new column with the difference between the two average scores
   df["Average_Score_Difference"] = df.apply(get_difference_review_avg, axis = 1)
   
   # Create a df without all the duplicates of Hotel_Name (so only 1 row per hotel)
   review_scores_df = df.drop_duplicates(subset = ["Hotel_Name"])
   
   # Sort the dataframe to find the lowest and highest average score difference
   review_scores_df = review_scores_df.sort_values(by=["Average_Score_Difference"])
   
   display(review_scores_df[["Average_Score_Difference", "Average_Score", "Calc_Average_Score", "Hotel_Name"]])
   ``` You may also wonder about the `Average_Score` value and why it is sometimes different from the calculated average score. As we can't know why some of the values match, but others have a difference, it's safest in this case to use the review scores that we have to calculate the average ourselves. That said, the differences are usually very small, here are the hotels with the greatest deviation from the dataset average and the calculated average: | Average_Score_Difference | Average_Score | Calc_Average_Score | Hotel_Name | | :----------------------: | :-----------: | :----------------: | ------------------------------------------: | | -0.8 | 7.7 | 8.5 | Best Western Hotel Astoria | | -0.7 | 8.8 | 9.5 | Hotel Stendhal Place Vend me Paris MGallery | | -0.7 | 7.5 | 8.2 | Mercure Paris Porte d Orleans | | -0.7 | 7.9 | 8.6 | Renaissance Paris Vendome Hotel | | -0.5 | 7.0 | 7.5 | Hotel Royal Elys es | | ... | ... | ... | ... | | 0.7 | 7.5 | 6.8 | Mercure Paris Op ra Faubourg Montmartre | | 0.8 | 7.1 | 6.3 | Holiday Inn Paris Montparnasse Pasteur | | 0.9 | 6.8 | 5.9 | Villa Eugenie | | 0.9 | 8.6 | 7.7 | MARQUIS Faubourg St Honor Relais Ch teaux | | 1.3 | 7.2 | 5.9 | Kube Hotel Ice Bar | With only 1 hotel having a difference of score greater than 1, it means we can probably ignore the difference and use the calculated average score. 6. Calculate and print out how many rows have column `Negative_Review` values of "No Negative" 7. Calculate and print out how many rows have column `Positive_Review` values of "No Positive" 8. Calculate and print out how many rows have column `Positive_Review` values of "No Positive" **and** `Negative_Review` values of "No Negative" ```python
   # with lambdas:
   start = time.time()
   no_negative_reviews = df.apply(lambda x: True if x['Negative_Review'] == "No Negative" else False , axis=1)
   print("Number of No Negative reviews: " + str(len(no_negative_reviews[no_negative_reviews == True].index)))
   
   no_positive_reviews = df.apply(lambda x: True if x['Positive_Review'] == "No Positive" else False , axis=1)
   print("Number of No Positive reviews: " + str(len(no_positive_reviews[no_positive_reviews == True].index)))
   
   both_no_reviews = df.apply(lambda x: True if x['Negative_Review'] == "No Negative" and x['Positive_Review'] == "No Positive" else False , axis=1)
   print("Number of both No Negative and No Positive reviews: " + str(len(both_no_reviews[both_no_reviews == True].index)))
   end = time.time()
   print("Lambdas took " + str(round(end - start, 2)) + " seconds")
   
   Number of No Negative reviews: 127890
   Number of No Positive reviews: 35946
   Number of both No Negative and No Positive reviews: 127
   Lambdas took 9.64 seconds
   ``` ## Another way Another way count items without Lambdas, and use sum to count the rows: ```python
   # without lambdas (using a mixture of notations to show you can use both)
   start = time.time()
   no_negative_reviews = sum(df.Negative_Review == "No Negative")
   print("Number of No Negative reviews: " + str(no_negative_reviews))
   
   no_positive_reviews = sum(df["Positive_Review"] == "No Positive")
   print("Number of No Positive reviews: " + str(no_positive_reviews))
   
   both_no_reviews = sum((df.Negative_Review == "No Negative") & (df.Positive_Review == "No Positive"))
   print("Number of both No Negative and No Positive reviews: " + str(both_no_reviews))
   
   end = time.time()
   print("Sum took " + str(round(end - start, 2)) + " seconds")
   
   Number of No Negative reviews: 127890
   Number of No Positive reviews: 35946
   Number of both No Negative and No Positive reviews: 127
   Sum took 0.19 seconds
   ``` You may have noticed that there are 127 rows that have both "No Negative" and "No Positive" values for the columns `Negative_Review` and `Positive_Review` respectively. That means that the reviewer gave the hotel a numerical score, but declined to write either a positive or negative review. Luckily this is a small amount of rows (127 out of 515738, or 0.02%), so it probably won't skew our model or results in any particular direction, but you might not have expected a data set of reviews to have rows with no reviews, so it's worth exploring the data to discover rows like this. Now that you have explored the dataset, in the next lesson you will filter the data and add some sentiment analysis. --- ## ğŸš€Challenge This lesson demonstrates, as we saw in previous lessons, how critically important it is to understand your data and its foibles before performing operations on it. Text-based data, in particular, bears careful scrutiny. Dig through various text-heavy datasets and see if you can discover areas that could introduce bias or skewed sentiment into a model. ## [Post-lecture quiz](https://gray-sand-07a10f403.1.azurestaticapps.net/quiz/38/) ## Review & Self Study Take [this Learning Path on NLP](https://docs.microsoft.com/learn/paths/explore-natural-language-processing/?WT.mc_id=academic-77952-leestott) to discover tools to try when building speech and text-heavy models. ## Assignment [NLTK](assignment.md)

**å…è´£å£°æ˜**ï¼š
æœ¬æ–‡ä»¶ä½¿ç”¨åŸºäºæœºå™¨çš„äººå·¥æ™ºèƒ½ç¿»è¯‘æœåŠ¡è¿›è¡Œç¿»è¯‘ã€‚è™½ç„¶æˆ‘ä»¬åŠªåŠ›ç¡®ä¿å‡†ç¡®æ€§ï¼Œä½†è¯·æ³¨æ„ï¼Œè‡ªåŠ¨ç¿»è¯‘å¯èƒ½åŒ…å«é”™è¯¯æˆ–ä¸å‡†ç¡®ä¹‹å¤„ã€‚åº”å°†åŸå§‹è¯­è¨€çš„æ–‡ä»¶è§†ä¸ºæƒå¨æ¥æºã€‚å¯¹äºå…³é”®ä¿¡æ¯ï¼Œå»ºè®®ä½¿ç”¨ä¸“ä¸šçš„äººç±»ç¿»è¯‘ã€‚å¯¹äºå› ä½¿ç”¨æœ¬ç¿»è¯‘è€Œå¼•èµ·çš„ä»»ä½•è¯¯è§£æˆ–è¯¯è¯»ï¼Œæˆ‘ä»¬æ¦‚ä¸è´Ÿè´£ã€‚