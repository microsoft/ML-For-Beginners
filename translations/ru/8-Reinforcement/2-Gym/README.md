# –ö–∞—Ç–∞–Ω–∏–µ –Ω–∞ CartPole

–ü—Ä–æ–±–ª–µ–º–∞, –∫–æ—Ç–æ—Ä—É—é –º—ã —Ä–µ—à–∞–ª–∏ –Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â–µ–º –∑–∞–Ω—è—Ç–∏–∏, –º–æ–∂–µ—Ç –ø–æ–∫–∞–∑–∞—Ç—å—Å—è –∏–≥—Ä—É—à–µ—á–Ω–æ–π –∑–∞–¥–∞—á–µ–π, –Ω–µ –∏–º–µ—é—â–µ–π —Ä–µ–∞–ª—å–Ω–æ–≥–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è. –ù–æ —ç—Ç–æ –Ω–µ —Ç–∞–∫, –ø–æ—Ç–æ–º—É —á—Ç–æ –º–Ω–æ–≥–∏–µ —Ä–µ–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã —Ç–∞–∫–∂–µ –∏–º–µ—é—Ç –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π ‚Äî –≤–∫–ª—é—á–∞—è –∏–≥—Ä—ã –≤ —à–∞—Ö–º–∞—Ç—ã –∏–ª–∏ –≥–æ. –û–Ω–∏ –ø–æ—Ö–æ–∂–∏, –ø–æ—Ç–æ–º—É —á—Ç–æ —É –Ω–∞—Å —Ç–∞–∫–∂–µ –µ—Å—Ç—å –¥–æ—Å–∫–∞ —Å –∑–∞–¥–∞–Ω–Ω—ã–º–∏ –ø—Ä–∞–≤–∏–ª–∞–º–∏ –∏ **–¥–∏—Å–∫—Ä–µ—Ç–Ω—ã–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º**.

## [–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–π —Ç–µ—Å—Ç](https://gray-sand-07a10f403.1.azurestaticapps.net/quiz/47/)

## –í–≤–µ–¥–µ–Ω–∏–µ

–ù–∞ —ç—Ç–æ–º —É—Ä–æ–∫–µ –º—ã –ø—Ä–∏–º–µ–Ω–∏–º —Ç–µ –∂–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã Q-–æ–±—É—á–µ–Ω–∏—è –∫ –∑–∞–¥–∞—á–µ —Å **–Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω—ã–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º**, —Ç–æ –µ—Å—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º, –∑–∞–¥–∞–Ω–Ω—ã–º –æ–¥–Ω–∏–º –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –≤–µ—â–µ—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ —á–∏—Å–ª–∞–º–∏. –ú—ã –±—É–¥–µ–º —Ä–∞–±–æ—Ç–∞—Ç—å —Å —Å–ª–µ–¥—É—é—â–µ–π –∑–∞–¥–∞—á–µ–π:

> **–ó–∞–¥–∞—á–∞**: –ï—Å–ª–∏ –ü–∏—Ç–µ—Ä —Ö–æ—á–µ—Ç —É–±–µ–∂–∞—Ç—å –æ—Ç –≤–æ–ª–∫–∞, –µ–º—É –Ω—É–∂–Ω–æ –¥–≤–∏–≥–∞—Ç—å—Å—è –±—ã—Å—Ç—Ä–µ–µ. –ú—ã —É–≤–∏–¥–∏–º, –∫–∞–∫ –ü–∏—Ç–µ—Ä –º–æ–∂–µ—Ç –Ω–∞—É—á–∏—Ç—å—Å—è –∫–∞—Ç–∞—Ç—å—Å—è –Ω–∞ –∫–æ–Ω—å–∫–∞—Ö, –æ—Å–æ–±–µ–Ω–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å —Ä–∞–≤–Ω–æ–≤–µ—Å–∏–µ, –∏—Å–ø–æ–ª—å–∑—É—è Q-–æ–±—É—á–µ–Ω–∏–µ.

![–í–µ–ª–∏–∫–æ–µ –ø–æ–±–µ–≥—Å—Ç–≤–æ!](../../../../translated_images/escape.18862db9930337e3fce23a9b6a76a06445f229dadea2268e12a6f0a1fde12115.ru.png)

> –ü–∏—Ç–µ—Ä –∏ –µ–≥–æ –¥—Ä—É–∑—å—è –ø—Ä–æ—è–≤–ª—è—é—Ç –∫—Ä–µ–∞—Ç–∏–≤–Ω–æ—Å—Ç—å, —á—Ç–æ–±—ã —É–±–µ–∂–∞—Ç—å –æ—Ç –≤–æ–ª–∫–∞! –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—Ç [Jen Looper](https://twitter.com/jenlooper)

–ú—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É–ø—Ä–æ—â–µ–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é –∑–∞–¥–∞—á–∏ –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏, –∏–∑–≤–µ—Å—Ç–Ω—É—é –∫–∞–∫ –ø—Ä–æ–±–ª–µ–º–∞ **CartPole**. –í –º–∏—Ä–µ cartpole —É –Ω–∞—Å –µ—Å—Ç—å –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π —Å–ª–∞–π–¥–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –¥–≤–∏–≥–∞—Ç—å—Å—è –≤–ª–µ–≤–æ –∏–ª–∏ –≤–ø—Ä–∞–≤–æ, –∏ —Ü–µ–ª—å —Å–æ—Å—Ç–æ–∏—Ç –≤ —Ç–æ–º, —á—Ç–æ–±—ã —É–¥–µ—Ä–∂–∏–≤–∞—Ç—å –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—É—é –ø–∞–ª–∫—É –Ω–∞ –≤–µ—Ä—à–∏–Ω–µ —Å–ª–∞–π–¥–µ—Ä–∞.

## –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

–ù–∞ —ç—Ç–æ–º —É—Ä–æ–∫–µ –º—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É **OpenAI Gym** –¥–ª—è —Å–∏–º—É–ª—è—Ü–∏–∏ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö **—Å—Ä–µ–¥**. –í—ã –º–æ–∂–µ—Ç–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–¥ —ç—Ç–æ–≥–æ —É—Ä–æ–∫–∞ –ª–æ–∫–∞–ª—å–Ω–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∏–∑ Visual Studio Code), –≤ —ç—Ç–æ–º —Å–ª—É—á–∞–µ —Å–∏–º—É–ª—è—Ü–∏—è –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –≤ –Ω–æ–≤–æ–º –æ–∫–Ω–µ. –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –∫–æ–¥–∞ –æ–Ω–ª–∞–π–Ω –≤–∞–º, –≤–æ–∑–º–æ–∂–Ω–æ, –ø—Ä–∏–¥–µ—Ç—Å—è –≤–Ω–µ—Å—Ç–∏ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥, –∫–∞–∫ –æ–ø–∏—Å–∞–Ω–æ [–∑–¥–µ—Å—å](https://towardsdatascience.com/rendering-openai-gym-envs-on-binder-and-google-colab-536f99391cc7).

## OpenAI Gym

–ù–∞ –ø—Ä–µ–¥—ã–¥—É—â–µ–º –∑–∞–Ω—è—Ç–∏–∏ –ø—Ä–∞–≤–∏–ª–∞ –∏–≥—Ä—ã –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∑–∞–¥–∞–≤–∞–ª–∏—Å—å –∫–ª–∞—Å—Å–æ–º `Board`, –∫–æ—Ç–æ—Ä—ã–π –º—ã –æ–ø—Ä–µ–¥–µ–ª–∏–ª–∏ —Å–∞–º–∏. –ó–¥–µ—Å—å –º—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω—É—é **—Å–∏–º—É–ª—è—Ü–∏–æ–Ω–Ω—É—é —Å—Ä–µ–¥—É**, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞—Ç—å —Ñ–∏–∑–∏–∫—É, —Å—Ç–æ—è—â—É—é –∑–∞ –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–æ–π –ø–∞–ª–∫–∏. –û–¥–Ω–∞ –∏–∑ —Å–∞–º—ã—Ö –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Å–∏–º—É–ª—è—Ü–∏–æ–Ω–Ω—ã—Ö —Å—Ä–µ–¥ –¥–ª—è –æ–±—É—á–µ–Ω–∏—è –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ –æ–±—É—á–µ–Ω–∏—è —Å –ø–æ–¥–∫—Ä–µ–ø–ª–µ–Ω–∏–µ–º –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è [Gym](https://gym.openai.com/), –∫–æ—Ç–æ—Ä–∞—è –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è [OpenAI](https://openai.com/). –ò—Å–ø–æ–ª—å–∑—É—è —ç—Ç–æ—Ç –≥–∏–º–Ω–∞—Å—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ª, –º—ã –º–æ–∂–µ–º —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ **—Å—Ä–µ–¥—ã**, –æ—Ç —Å–∏–º—É–ª—è—Ü–∏–∏ cartpole –¥–æ –∏–≥—Ä Atari.

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –í—ã –º–æ–∂–µ—Ç–µ —É–≤–∏–¥–µ—Ç—å –¥—Ä—É–≥–∏–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Å—Ä–µ–¥—ã –æ—Ç OpenAI Gym [–∑–¥–µ—Å—å](https://gym.openai.com/envs/#classic_control). 

–°–Ω–∞—á–∞–ª–∞ –¥–∞–≤–∞–π—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∏–º gym –∏ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ (–∫–æ–¥–æ–≤—ã–π –±–ª–æ–∫ 1):

```python
import sys
!{sys.executable} -m pip install gym 

import gym
import matplotlib.pyplot as plt
import numpy as np
import random
```

## –£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ä–µ–¥—ã cartpole

–ß—Ç–æ–±—ã —Ä–∞–±–æ—Ç–∞—Ç—å —Å –∑–∞–¥–∞—á–µ–π –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏ cartpole, –Ω–∞–º –Ω—É–∂–Ω–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é —Å—Ä–µ–¥—É. –ö–∞–∂–¥–∞—è —Å—Ä–µ–¥–∞ —Å–≤—è–∑–∞–Ω–∞ —Å:

- **–ü—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ–º –Ω–∞–±–ª—é–¥–µ–Ω–∏–π**, –∫–æ—Ç–æ—Ä–æ–µ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä—É—é –º—ã –ø–æ–ª—É—á–∞–µ–º –æ—Ç —Å—Ä–µ–¥—ã. –î–ª—è –∑–∞–¥–∞—á–∏ cartpole –º—ã –ø–æ–ª—É—á–∞–µ–º –ø–æ–ª–æ–∂–µ–Ω–∏–µ –ø–∞–ª–∫–∏, —Å–∫–æ—Ä–æ—Å—Ç—å –∏ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –¥—Ä—É–≥–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è.

- **–ü—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ–º –¥–µ–π—Å—Ç–≤–∏–π**, –∫–æ—Ç–æ—Ä–æ–µ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –≤–æ–∑–º–æ–∂–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è. –í –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –¥–µ–π—Å—Ç–≤–∏–π –¥–∏—Å–∫—Ä–µ—Ç–Ω–æ –∏ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –¥–≤—É—Ö –¥–µ–π—Å—Ç–≤–∏–π - **–≤–ª–µ–≤–æ** –∏ **–≤–ø—Ä–∞–≤–æ**. (–∫–æ–¥–æ–≤—ã–π –±–ª–æ–∫ 2)

1. –ß—Ç–æ–±—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å, –≤–≤–µ–¥–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–π –∫–æ–¥:

    ```python
    env = gym.make("CartPole-v1")
    print(env.action_space)
    print(env.observation_space)
    print(env.action_space.sample())
    ```

–ß—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ä–µ–¥–∞, –¥–∞–≤–∞–π—Ç–µ –∑–∞–ø—É—Å—Ç–∏–º –∫–æ—Ä–æ—Ç–∫—É—é —Å–∏–º—É–ª—è—Ü–∏—é –Ω–∞ 100 —à–∞–≥–æ–≤. –ù–∞ –∫–∞–∂–¥–æ–º —à–∞–≥–µ –º—ã –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ–º –æ–¥–Ω–æ –∏–∑ –¥–µ–π—Å—Ç–≤–∏–π, –∫–æ—Ç–æ—Ä–æ–µ –Ω—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å - –≤ —ç—Ç–æ–π —Å–∏–º—É–ª—è—Ü–∏–∏ –º—ã –ø—Ä–æ—Å—Ç–æ —Å–ª—É—á–∞–π–Ω—ã–º –æ–±—Ä–∞–∑–æ–º –≤—ã–±–∏—Ä–∞–µ–º –¥–µ–π—Å—Ç–≤–∏–µ –∏–∑ `action_space`. 

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–¥ –Ω–∏–∂–µ –∏ –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ, –∫ —á–µ–º—É —ç—Ç–æ –ø—Ä–∏–≤–µ–¥–µ—Ç.

    ‚úÖ –ü–æ–º–Ω–∏—Ç–µ, —á—Ç–æ –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–µ–µ –∑–∞–ø—É—Å–∫–∞—Ç—å —ç—Ç–æ—Ç –∫–æ–¥ –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–µ Python! (–∫–æ–¥–æ–≤—ã–π –±–ª–æ–∫ 3)

    ```python
    env.reset()
    
    for i in range(100):
       env.render()
       env.step(env.action_space.sample())
    env.close()
    ```

    –í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å —á—Ç–æ-—Ç–æ –ø–æ—Ö–æ–∂–µ–µ –Ω–∞ —ç—Ç–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ:

    ![–Ω–µ–¥–æ–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π cartpole](../../../../8-Reinforcement/2-Gym/images/cartpole-nobalance.gif)

1. –í–æ –≤—Ä–µ–º—è —Å–∏–º—É–ª—è—Ü–∏–∏ –Ω–∞–º –Ω—É–∂–Ω–æ –ø–æ–ª—É—á–∞—Ç—å –Ω–∞–±–ª—é–¥–µ–Ω–∏—è, —á—Ç–æ–±—ã —Ä–µ—à–∏—Ç—å, –∫–∞–∫ –¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å. –ù–∞ —Å–∞–º–æ–º –¥–µ–ª–µ —Ñ—É–Ω–∫—Ü–∏—è step –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–µ–∫—É—â–∏–µ –Ω–∞–±–ª—é–¥–µ–Ω–∏—è, —Ñ—É–Ω–∫—Ü–∏—é –Ω–∞–≥—Ä–∞–¥—ã –∏ —Ñ–ª–∞–≥ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–π —É–∫–∞–∑—ã–≤–∞–µ—Ç, –∏–º–µ–µ—Ç –ª–∏ —Å–º—ã—Å–ª –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å —Å–∏–º—É–ª—è—Ü–∏—é –∏–ª–∏ –Ω–µ—Ç: (–∫–æ–¥–æ–≤—ã–π –±–ª–æ–∫ 4)

    ```python
    env.reset()
    
    done = False
    while not done:
       env.render()
       obs, rew, done, info = env.step(env.action_space.sample())
       print(f"{obs} -> {rew}")
    env.close()
    ```

    –í –≤—ã–≤–æ–¥–µ –±–ª–æ–∫–Ω–æ—Ç–∞ –≤—ã —É–≤–∏–¥–∏—Ç–µ —á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ —ç—Ç–æ–≥–æ:

    ```text
    [ 0.03403272 -0.24301182  0.02669811  0.2895829 ] -> 1.0
    [ 0.02917248 -0.04828055  0.03248977  0.00543839] -> 1.0
    [ 0.02820687  0.14636075  0.03259854 -0.27681916] -> 1.0
    [ 0.03113408  0.34100283  0.02706215 -0.55904489] -> 1.0
    [ 0.03795414  0.53573468  0.01588125 -0.84308041] -> 1.0
    ...
    [ 0.17299878  0.15868546 -0.20754175 -0.55975453] -> 1.0
    [ 0.17617249  0.35602306 -0.21873684 -0.90998894] -> 1.0
    ```

    –í–µ–∫—Ç–æ—Ä –Ω–∞–±–ª—é–¥–µ–Ω–∏–π, –∫–æ—Ç–æ—Ä—ã–π –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –Ω–∞ –∫–∞–∂–¥–æ–º —à–∞–≥–µ —Å–∏–º—É–ª—è—Ü–∏–∏, —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–ª–µ–¥—É—é—â–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è:
    - –ü–æ–ª–æ–∂–µ–Ω–∏–µ —Å–ª–∞–π–¥–µ—Ä–∞
    - –°–∫–æ—Ä–æ—Å—Ç—å —Å–ª–∞–π–¥–µ—Ä–∞
    - –£–≥–æ–ª –ø–∞–ª–∫–∏
    - –°–∫–æ—Ä–æ—Å—Ç—å –≤—Ä–∞—â–µ–Ω–∏—è –ø–∞–ª–∫–∏

1. –ü–æ–ª—É—á–∏—Ç–µ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —ç—Ç–∏—Ö —á–∏—Å–µ–ª: (–∫–æ–¥–æ–≤—ã–π –±–ª–æ–∫ 5)

    ```python
    print(env.observation_space.low)
    print(env.observation_space.high)
    ```

    –í—ã —Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç–µ –∑–∞–º–µ—Ç–∏—Ç—å, —á—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–∞–≥—Ä–∞–¥—ã –Ω–∞ –∫–∞–∂–¥–æ–º —à–∞–≥–µ —Å–∏–º—É–ª—è—Ü–∏–∏ –≤—Å–µ–≥–¥–∞ —Ä–∞–≤–Ω–æ 1. –≠—Ç–æ –ø–æ—Ç–æ–º—É, —á—Ç–æ –Ω–∞—à–∞ —Ü–µ–ª—å - –≤—ã–∂–∏—Ç—å –∫–∞–∫ –º–æ–∂–Ω–æ –¥–æ–ª—å—à–µ, —Ç.–µ. —É–¥–µ—Ä–∂–∏–≤–∞—Ç—å –ø–∞–ª–∫—É –≤ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–º –ø–æ–ª–æ–∂–µ–Ω–∏–∏ –∫–∞–∫ –º–æ–∂–Ω–æ –¥–æ–ª—å—à–µ.

    ‚úÖ –ù–∞ —Å–∞–º–æ–º –¥–µ–ª–µ —Å–∏–º—É–ª—è—Ü–∏—è CartPole —Å—á–∏—Ç–∞–µ—Ç—Å—è —Ä–µ—à–µ–Ω–Ω–æ–π, –µ—Å–ª–∏ –Ω–∞–º —É–¥–∞–µ—Ç—Å—è –ø–æ–ª—É—á–∏—Ç—å —Å—Ä–µ–¥–Ω—é—é –Ω–∞–≥—Ä–∞–¥—É 195 –∑–∞ 100 –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫.

## –î–∏—Å–∫—Ä–µ—Ç–∏–∑–∞—Ü–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è

–í Q-–æ–±—É—á–µ–Ω–∏–∏ –Ω–∞–º –Ω—É–∂–Ω–æ –ø–æ—Å—Ç—Ä–æ–∏—Ç—å Q-—Ç–∞–±–ª–∏—Ü—É, –∫–æ—Ç–æ—Ä–∞—è –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, —á—Ç–æ –¥–µ–ª–∞—Ç—å –≤ –∫–∞–∂–¥–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏. –ß—Ç–æ–±—ã –∏–º–µ—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —ç—Ç–æ —Å–¥–µ–ª–∞—Ç—å, —Å–æ—Å—Ç–æ—è–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å **–¥–∏—Å–∫—Ä–µ—Ç–Ω—ã–º**, —Ç–æ—á–Ω–µ–µ, –æ–Ω–æ –¥–æ–ª–∂–Ω–æ —Å–æ–¥–µ—Ä–∂–∞—Ç—å –∫–æ–Ω–µ—á–Ω–æ–µ —á–∏—Å–ª–æ –¥–∏—Å–∫—Ä–µ—Ç–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –Ω–∞–º –Ω—É–∂–Ω–æ –∫–∞–∫-—Ç–æ **–¥–∏—Å–∫—Ä–µ—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å** –Ω–∞—à–∏ –Ω–∞–±–ª—é–¥–µ–Ω–∏—è, —Å–æ–ø–æ—Å—Ç–∞–≤–ª—è—è –∏—Ö —Å –∫–æ–Ω–µ—á–Ω—ã–º –Ω–∞–±–æ—Ä–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–π.

–°—É—â–µ—Å—Ç–≤—É–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–ø–æ—Å–æ–±–æ–≤ —Å–¥–µ–ª–∞—Ç—å —ç—Ç–æ:

- **–†–∞–∑–¥–µ–ª–∏—Ç—å –Ω–∞ –∫–æ—Ä–∑–∏–Ω—ã**. –ï—Å–ª–∏ –º—ã –∑–Ω–∞–µ–º –∏–Ω—Ç–µ—Ä–≤–∞–ª –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è, –º—ã –º–æ–∂–µ–º —Ä–∞–∑–¥–µ–ª–∏—Ç—å —ç—Ç–æ—Ç –∏–Ω—Ç–µ—Ä–≤–∞–ª –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ **–∫–æ—Ä–∑–∏–Ω**, –∞ –∑–∞—Ç–µ–º –∑–∞–º–µ–Ω–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–æ–º–µ—Ä–æ–º –∫–æ—Ä–∑–∏–Ω—ã, –∫ –∫–æ—Ç–æ—Ä–æ–π –æ–Ω–æ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç. –≠—Ç–æ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ numpy [`digitize`](https://numpy.org/doc/stable/reference/generated/numpy.digitize.html). –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –º—ã —Ç–æ—á–Ω–æ –±—É–¥–µ–º –∑–Ω–∞—Ç—å —Ä–∞–∑–º–µ—Ä —Å–æ—Å—Ç–æ—è–Ω–∏—è, –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω –±—É–¥–µ—Ç –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∫–æ—Ä–∑–∏–Ω, –∫–æ—Ç–æ—Ä—ã–µ –º—ã –≤—ã–±–µ—Ä–µ–º –¥–ª—è —Ü–∏—Ñ—Ä–æ–≤–∏–∑–∞—Ü–∏–∏.

‚úÖ –ú—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–∏–Ω–µ–π–Ω—É—é –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—é, —á—Ç–æ–±—ã –ø—Ä–∏–≤–µ—Å—Ç–∏ –∑–Ω–∞—á–µ–Ω–∏—è –∫ –Ω–µ–∫–æ—Ç–æ—Ä–æ–º—É –∫–æ–Ω–µ—á–Ω–æ–º—É –∏–Ω—Ç–µ—Ä–≤–∞–ª—É (—Å–∫–∞–∂–µ–º, –æ—Ç -20 –¥–æ 20), –∞ –∑–∞—Ç–µ–º –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å —á–∏—Å–ª–∞ –≤ —Ü–µ–ª—ã–µ —á–∏—Å–ª–∞, –æ–∫—Ä—É–≥–ª—è—è –∏—Ö. –≠—Ç–æ –¥–∞–µ—Ç –Ω–∞–º –Ω–µ–º–Ω–æ–≥–æ –º–µ–Ω—å—à–µ –∫–æ–Ω—Ç—Ä–æ–ª—è –Ω–∞–¥ —Ä–∞–∑–º–µ—Ä–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏—è, –æ—Å–æ–±–µ–Ω–Ω–æ –µ—Å–ª–∏ –º—ã –Ω–µ –∑–Ω–∞–µ–º —Ç–æ—á–Ω—ã–µ –¥–∏–∞–ø–∞–∑–æ–Ω—ã –≤—Ö–æ–¥–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π. –ù–∞–ø—Ä–∏–º–µ—Ä, –≤ –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ 2 –∏–∑ 4 –∑–Ω–∞—á–µ–Ω–∏–π –Ω–µ –∏–º–µ—é—Ç –≤–µ—Ä—Ö–Ω–∏—Ö/–Ω–∏–∂–Ω–∏—Ö –≥—Ä–∞–Ω–∏—Ü, —á—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–º—É —á–∏—Å–ª—É —Å–æ—Å—Ç–æ—è–Ω–∏–π.

–í –Ω–∞—à–µ–º –ø—Ä–∏–º–µ—Ä–µ –º—ã –≤–æ—Å–ø–æ–ª—å–∑—É–µ–º—Å—è –≤—Ç–æ—Ä—ã–º –ø–æ–¥—Ö–æ–¥–æ–º. –ö–∞–∫ –≤—ã –º–æ–∂–µ—Ç–µ –∑–∞–º–µ—Ç–∏—Ç—å –ø–æ–∑–∂–µ, –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ –Ω–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ –≤–µ—Ä—Ö–Ω–∏–µ/–Ω–∏–∂–Ω–∏–µ –≥—Ä–∞–Ω–∏—Ü—ã, —ç—Ç–∏ –∑–Ω–∞—á–µ–Ω–∏—è —Ä–µ–¥–∫–æ –ø—Ä–∏–Ω–∏–º–∞—é—Ç –∑–Ω–∞—á–µ–Ω–∏—è –≤–Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö –∫–æ–Ω–µ—á–Ω—ã—Ö –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–≤, —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, —ç—Ç–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å —ç–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –±—É–¥—É—Ç –æ—á–µ–Ω—å —Ä–µ–¥–∫–∏–º–∏.

1. –í–æ—Ç —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –≤–æ–∑—å–º–µ—Ç –Ω–∞–±–ª—é–¥–µ–Ω–∏–µ –∏–∑ –Ω–∞—à–µ–π –º–æ–¥–µ–ª–∏ –∏ —Å–æ–∑–¥–∞—Å—Ç –∫–æ—Ä—Ç–µ–∂ –∏–∑ 4 —Ü–µ–ª—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π: (–∫–æ–¥–æ–≤—ã–π –±–ª–æ–∫ 6)

    ```python
    def discretize(x):
        return tuple((x/np.array([0.25, 0.25, 0.01, 0.1])).astype(np.int))
    ```

1. –î–∞–≤–∞–π—Ç–µ —Ç–∞–∫–∂–µ –∏—Å—Å–ª–µ–¥—É–µ–º –¥—Ä—É–≥–æ–π –º–µ—Ç–æ–¥ –¥–∏—Å–∫—Ä–µ—Ç–∏–∑–∞—Ü–∏–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∫–æ—Ä–∑–∏–Ω: (–∫–æ–¥–æ–≤—ã–π –±–ª–æ–∫ 7)

    ```python
    def create_bins(i,num):
        return np.arange(num+1)*(i[1]-i[0])/num+i[0]
    
    print("Sample bins for interval (-5,5) with 10 bins\n",create_bins((-5,5),10))
    
    ints = [(-5,5),(-2,2),(-0.5,0.5),(-2,2)] # intervals of values for each parameter
    nbins = [20,20,10,10] # number of bins for each parameter
    bins = [create_bins(ints[i],nbins[i]) for i in range(4)]
    
    def discretize_bins(x):
        return tuple(np.digitize(x[i],bins[i]) for i in range(4))
    ```

1. –¢–µ–ø–µ—Ä—å –¥–∞–≤–∞–π—Ç–µ –∑–∞–ø—É—Å—Ç–∏–º –∫–æ—Ä–æ—Ç–∫—É—é —Å–∏–º—É–ª—è—Ü–∏—é –∏ –Ω–∞–±–ª—é–¥–∞—Ç—å –∑–∞ —ç—Ç–∏–º–∏ –¥–∏—Å–∫—Ä–µ—Ç–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ —Å—Ä–µ–¥—ã. –ù–µ —Å—Ç–µ—Å–Ω—è–π—Ç–µ—Å—å –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –∫–∞–∫ `discretize` and `discretize_bins`, —Ç–∞–∫ –∏ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å, –µ—Å—Ç—å –ª–∏ —Ä–∞–∑–Ω–∏—Ü–∞.

    ‚úÖ discretize_bins –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–æ–º–µ—Ä –∫–æ—Ä–∑–∏–Ω—ã, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å 0. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –¥–ª—è –∑–Ω–∞—á–µ–Ω–∏–π –≤—Ö–æ–¥–Ω–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫–æ–ª–æ 0 –æ–Ω –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–æ–º–µ—Ä –∏–∑ —Å–µ—Ä–µ–¥–∏–Ω—ã –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞ (10). –í discretize –º—ã –Ω–µ –∑–∞–±–æ—Ç–∏–ª–∏—Å—å –æ –¥–∏–∞–ø–∞–∑–æ–Ω–µ –≤—ã—Ö–æ–¥–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π, –ø–æ–∑–≤–æ–ª—è—è –∏–º –±—ã—Ç—å –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º–∏, —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –∑–Ω–∞—á–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –Ω–µ —Å–¥–≤–∏–Ω—É—Ç—ã, –∏ 0 —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç 0. (–∫–æ–¥–æ–≤—ã–π –±–ª–æ–∫ 8)

    ```python
    env.reset()
    
    done = False
    while not done:
       #env.render()
       obs, rew, done, info = env.step(env.action_space.sample())
       #print(discretize_bins(obs))
       print(discretize(obs))
    env.close()
    ```

    ‚úÖ –†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ —Å—Ç—Ä–æ–∫—É, –Ω–∞—á–∏–Ω–∞—é—â—É—é—Å—è —Å env.render, –µ—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ —É–≤–∏–¥–µ—Ç—å, –∫–∞–∫ —Å—Ä–µ–¥–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è. –í –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ –≤—ã –º–æ–∂–µ—Ç–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—å —ç—Ç–æ –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ, —á—Ç–æ –±—ã—Å—Ç—Ä–µ–µ. –ú—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–æ "–Ω–µ–≤–∏–¥–∏–º–æ–µ" –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –≤–æ –≤—Ä–µ–º—è –Ω–∞—à–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ Q-–æ–±—É—á–µ–Ω–∏—è.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ Q-—Ç–∞–±–ª–∏—Ü—ã

–ù–∞ –Ω–∞—à–µ–º –ø—Ä–µ–¥—ã–¥—É—â–µ–º –∑–∞–Ω—è—Ç–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –±—ã–ª–æ –ø—Ä–æ—Å—Ç–æ–π –ø–∞—Ä–æ–π —á–∏—Å–µ–ª –æ—Ç 0 –¥–æ 8, –∏ –ø–æ—ç—Ç–æ–º—É –±—ã–ª–æ —É–¥–æ–±–Ω–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—Ç—å Q-—Ç–∞–±–ª–∏—Ü—É –≤ –≤–∏–¥–µ —Ç–µ–Ω–∑–æ—Ä–∞ numpy —Å —Ñ–æ—Ä–º–æ–π 8x8x2. –ï—Å–ª–∏ –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –¥–∏—Å–∫—Ä–µ—Ç–∏–∑–∞—Ü–∏—é –ø–æ –∫–æ—Ä–∑–∏–Ω–∞–º, —Ä–∞–∑–º–µ—Ä –Ω–∞—à–µ–≥–æ –≤–µ–∫—Ç–æ—Ä–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Ç–∞–∫–∂–µ –∏–∑–≤–µ—Å—Ç–µ–Ω, —Ç–∞–∫ —á—Ç–æ –º—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ—Ç –∂–µ –ø–æ–¥—Ö–æ–¥ –∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤ –≤–∏–¥–µ –º–∞—Å—Å–∏–≤–∞ —Ñ–æ—Ä–º—ã 20x20x10x10x2 (–∑–¥–µ—Å—å 2 - —ç—Ç–æ —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ –¥–µ–π—Å—Ç–≤–∏–π, –∞ –ø–µ—Ä–≤—ã–µ —Ä–∞–∑–º–µ—Ä—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –∫–æ—Ä–∑–∏–Ω, –∫–æ—Ç–æ—Ä—ã–µ –º—ã –≤—ã–±—Ä–∞–ª–∏ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∏–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ –Ω–∞–±–ª—é–¥–µ–Ω–∏–π).

–û–¥–Ω–∞–∫–æ –∏–Ω–æ–≥–¥–∞ —Ç–æ—á–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ –Ω–∞–±–ª—é–¥–µ–Ω–∏–π –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã. –í —Å–ª—É—á–∞–µ —Ñ—É–Ω–∫—Ü–∏–∏ `discretize` –º—ã –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –º–æ–∂–µ–º –±—ã—Ç—å —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ –Ω–∞—à–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –æ—Å—Ç–∞–µ—Ç—Å—è –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö –≥—Ä–∞–Ω–∏—Ü, –ø–æ—Ç–æ–º—É —á—Ç–æ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∏–∑ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –Ω–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω—ã. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –º—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–µ–º–Ω–æ–≥–æ –¥—Ä—É–≥–æ–π –ø–æ–¥—Ö–æ–¥ –∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—Ç—å Q-—Ç–∞–±–ª–∏—Ü—É –≤ –≤–∏–¥–µ —Å–ª–æ–≤–∞—Ä—è.

1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–∞—Ä—É *(—Å–æ—Å—Ç–æ—è–Ω–∏–µ, –¥–µ–π—Å—Ç–≤–∏–µ)* –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∫–ª—é—á–∞ —Å–ª–æ–≤–∞—Ä—è, –∞ –∑–Ω–∞—á–µ–Ω–∏–µ –±—É–¥–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—é –∑–∞–ø–∏—Å–∏ –≤ Q-—Ç–∞–±–ª–∏—Ü–µ. (–∫–æ–¥–æ–≤—ã–π –±–ª–æ–∫ 9)

    ```python
    Q = {}
    actions = (0,1)
    
    def qvalues(state):
        return [Q.get((state,a),0) for a in actions]
    ```

    –ó–¥–µ—Å—å –º—ã —Ç–∞–∫–∂–µ –æ–ø—Ä–µ–¥–µ–ª—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é `qvalues()`, –∫–æ—Ç–æ—Ä–∞—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –∑–Ω–∞—á–µ–Ω–∏–π Q-—Ç–∞–±–ª–∏—Ü—ã –¥–ª—è –¥–∞–Ω–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ –≤—Å–µ–º –≤–æ–∑–º–æ–∂–Ω—ã–º –¥–µ–π—Å—Ç–≤–∏—è–º. –ï—Å–ª–∏ –∑–∞–ø–∏—Å—å –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ Q-—Ç–∞–±–ª–∏—Ü–µ, –º—ã –≤–µ—Ä–Ω–µ–º 0 –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.

## –ù–∞—á–Ω–µ–º Q-–æ–±—É—á–µ–Ω–∏–µ

–¢–µ–ø–µ—Ä—å –º—ã –≥–æ—Ç–æ–≤—ã –Ω–∞—É—á–∏—Ç—å –ü–∏—Ç–µ—Ä–∞ –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞—Ç—å!

1. –°–Ω–∞—á–∞–ª–∞ –¥–∞–≤–∞–π—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∏–º –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –≥–∏–ø–µ—Ä–ø–∞—Ä–∞–º–µ—Ç—Ä—ã: (–∫–æ–¥–æ–≤—ã–π –±–ª–æ–∫ 10)

    ```python
    # hyperparameters
    alpha = 0.3
    gamma = 0.9
    epsilon = 0.90
    ```

    –ó–¥–µ—Å—å, –≤–µ–∫—Ç–æ—Ä `alpha` is the **learning rate** that defines to which extent we should adjust the current values of Q-Table at each step. In the previous lesson we started with 1, and then decreased `alpha` to lower values during training. In this example we will keep it constant just for simplicity, and you can experiment with adjusting `alpha` values later.

    `gamma` is the **discount factor** that shows to which extent we should prioritize future reward over current reward.

    `epsilon` is the **exploration/exploitation factor** that determines whether we should prefer exploration to exploitation or vice versa. In our algorithm, we will in `epsilon` percent of the cases select the next action according to Q-Table values, and in the remaining number of cases we will execute a random action. This will allow us to explore areas of the search space that we have never seen before. 

    ‚úÖ In terms of balancing - choosing random action (exploration) would act as a random punch in the wrong direction, and the pole would have to learn how to recover the balance from those "mistakes"

### Improve the algorithm

We can also make two improvements to our algorithm from the previous lesson:

- **Calculate average cumulative reward**, over a number of simulations. We will print the progress each 5000 iterations, and we will average out our cumulative reward over that period of time. It means that if we get more than 195 point - we can consider the problem solved, with even higher quality than required.
  
- **Calculate maximum average cumulative result**, `Qmax`, and we will store the Q-Table corresponding to that result. When you run the training you will notice that sometimes the average cumulative result starts to drop, and we want to keep the values of Q-Table that correspond to the best model observed during training.

1. Collect all cumulative rewards at each simulation at `rewards` –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–π –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏. (–∫–æ–¥–æ–≤—ã–π –±–ª–æ–∫ 11)

    ```python
    def probs(v,eps=1e-4):
        v = v-v.min()+eps
        v = v/v.sum()
        return v
    
    Qmax = 0
    cum_rewards = []
    rewards = []
    for epoch in range(100000):
        obs = env.reset()
        done = False
        cum_reward=0
        # == do the simulation ==
        while not done:
            s = discretize(obs)
            if random.random()<epsilon:
                # exploitation - chose the action according to Q-Table probabilities
                v = probs(np.array(qvalues(s)))
                a = random.choices(actions,weights=v)[0]
            else:
                # exploration - randomly chose the action
                a = np.random.randint(env.action_space.n)
    
            obs, rew, done, info = env.step(a)
            cum_reward+=rew
            ns = discretize(obs)
            Q[(s,a)] = (1 - alpha) * Q.get((s,a),0) + alpha * (rew + gamma * max(qvalues(ns)))
        cum_rewards.append(cum_reward)
        rewards.append(cum_reward)
        # == Periodically print results and calculate average reward ==
        if epoch%5000==0:
            print(f"{epoch}: {np.average(cum_rewards)}, alpha={alpha}, epsilon={epsilon}")
            if np.average(cum_rewards) > Qmax:
                Qmax = np.average(cum_rewards)
                Qbest = Q
            cum_rewards=[]
    ```

–ß—Ç–æ –≤—ã –º–æ–∂–µ—Ç–µ –∑–∞–º–µ—Ç–∏—Ç—å –∏–∑ —ç—Ç–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤:

- **–ë–ª–∏–∑–∫–æ –∫ –Ω–∞—à–µ–π —Ü–µ–ª–∏**. –ú—ã –æ—á–µ–Ω—å –±–ª–∏–∑–∫–∏ –∫ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—é —Ü–µ–ª–∏ –ø–æ–ª—É—á–µ–Ω–∏—è 195 —Å–æ–≤–æ–∫—É–ø–Ω—ã—Ö –Ω–∞–≥—Ä–∞–¥ –∑–∞ 100+ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö –∑–∞–ø—É—Å–∫–æ–≤ —Å–∏–º—É–ª—è—Ü–∏–∏, –∏–ª–∏, –≤–æ–∑–º–æ–∂–Ω–æ, –º—ã —É–∂–µ –¥–æ—Å—Ç–∏–≥–ª–∏ —ç—Ç–æ–≥–æ! –î–∞–∂–µ –µ—Å–ª–∏ –º—ã –ø–æ–ª—É—á–∏–º –º–µ–Ω—å—à–∏–µ —á–∏—Å–ª–∞, –º—ã –≤—Å–µ —Ä–∞–≤–Ω–æ –Ω–µ –∑–Ω–∞–µ–º, –ø–æ—Ç–æ–º—É —á—Ç–æ –º—ã —É—Å—Ä–µ–¥–Ω—è–µ–º –ø–æ 5000 –∑–∞–ø—É—Å–∫–∞–º, –∏ —Ç–æ–ª—å–∫–æ 100 –∑–∞–ø—É—Å–∫–æ–≤ —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–æ —Ñ–æ—Ä–º–∞–ª—å–Ω—ã–º –∫—Ä–∏—Ç–µ—Ä–∏—è–º.

- **–ù–∞–≥—Ä–∞–¥–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç –ø–∞–¥–∞—Ç—å**. –ò–Ω–æ–≥–¥–∞ –Ω–∞–≥—Ä–∞–¥–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç –ø–∞–¥–∞—Ç—å, —á—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –º—ã –º–æ–∂–µ–º "—Ä–∞–∑—Ä—É—à–∏—Ç—å" —É–∂–µ –∏–∑—É—á–µ–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ Q-—Ç–∞–±–ª–∏—Ü–µ —Ç–µ–º–∏, –∫–æ—Ç–æ—Ä—ã–µ —É—Ö—É–¥—à–∞—é—Ç —Å–∏—Ç—É–∞—Ü–∏—é.

–≠—Ç–æ –Ω–∞–±–ª—é–¥–µ–Ω–∏–µ –±–æ–ª–µ–µ —á–µ—Ç–∫–æ –≤–∏–¥–Ω–æ, –µ—Å–ª–∏ –º—ã –ø–æ—Å—Ç—Ä–æ–∏–º –≥—Ä–∞—Ñ–∏–∫ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –æ–±—É—á–µ–Ω–∏—è.

## –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –æ–±—É—á–µ–Ω–∏—è

–í–æ –≤—Ä–µ–º—è –æ–±—É—á–µ–Ω–∏—è –º—ã —Å–æ–±–∏—Ä–∞–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ —Å–æ–≤–æ–∫—É–ø–Ω–æ–π –Ω–∞–≥—Ä–∞–¥—ã –Ω–∞ –∫–∞–∂–¥–æ–π –∏–∑ –∏—Ç–µ—Ä–∞—Ü–∏–π –≤ –≤–µ–∫—Ç–æ—Ä `rewards`. –í–æ—Ç –∫–∞–∫ —ç—Ç–æ –≤—ã–≥–ª—è–¥–∏—Ç, –∫–æ–≥–¥–∞ –º—ã —Å—Ç—Ä–æ–∏–º –µ–≥–æ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –Ω–æ–º–µ—Ä–∞ –∏—Ç–µ—Ä–∞—Ü–∏–∏:

```python
plt.plot(rewards)
```

![—Å—ã—Ä–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å](../../../../translated_images/train_progress_raw.2adfdf2daea09c596fc786fa347a23e9aceffe1b463e2257d20a9505794823ec.ru.png)

–° —ç—Ç–æ–≥–æ –≥—Ä–∞—Ñ–∏–∫–∞ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –Ω–∏—á–µ–≥–æ —Å–∫–∞–∑–∞—Ç—å, –ø–æ—Ç–æ–º—É —á—Ç–æ –∏–∑-–∑–∞ –ø—Ä–∏—Ä–æ–¥—ã —Å—Ç–æ—Ö–∞—Å—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ –æ–±—É—á–µ–Ω–∏—è –¥–ª–∏–Ω–∞ –æ–±—É—á–∞—é—â–∏—Ö —Å–µ—Å—Å–∏–π —Å–∏–ª—å–Ω–æ –≤–∞—Ä—å–∏—Ä—É–µ—Ç—Å—è. –ß—Ç–æ–±—ã –ª—É—á—à–µ –ø–æ–Ω—è—Ç—å —ç—Ç–æ—Ç –≥—Ä–∞—Ñ–∏–∫, –º—ã –º–æ–∂–µ–º –≤—ã—á–∏—Å–ª–∏—Ç—å **—Å–∫–æ–ª—å–∑—è—â–µ–µ —Å—Ä–µ–¥–Ω–µ–µ** –ø–æ —Å–µ—Ä–∏–∏ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤, —Å–∫–∞–∂–µ–º, 100. –≠—Ç–æ –º–æ–∂–Ω–æ —É–¥–æ–±–Ω–æ —Å–¥–µ–ª–∞—Ç—å —Å –ø–æ–º–æ—â—å—é `np.convolve`: (–∫–æ–¥–æ–≤—ã–π –±–ª–æ–∫ 12)

```python
def running_average(x,window):
    return np.convolve(x,np.ones(window)/window,mode='valid')

plt.plot(running_average(rewards,100))
```

![–ø—Ä–æ–≥—Ä–µ—Å—Å –æ–±—É—á–µ–Ω–∏—è](../../../../translated_images/train_progress_runav.c71694a8fa9ab35935aff6f109e5ecdfdbdf1b0ae265da49479a81b5fae8f0aa.ru.png)

## –ò–∑–º–µ–Ω–µ–Ω–∏–µ –≥–∏–ø–µ—Ä–ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

–ß—Ç–æ–±—ã —Å–¥–µ–ª–∞—Ç—å –æ–±—É—á–µ–Ω–∏–µ –±–æ–ª–µ–µ —Å—Ç–∞–±–∏–ª—å–Ω—ã–º, –∏–º–µ–µ—Ç —Å–º—ã—Å–ª –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∏–∑ –Ω–∞—à–∏—Ö –≥–∏–ø–µ—Ä–ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤–æ –≤—Ä–µ–º—è –æ–±—É—á–µ–Ω–∏—è. –í —á–∞—Å—Ç–Ω–æ—Å—Ç–∏:

- **–î–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏ –æ–±—É—á–µ–Ω–∏—è**, `alpha`, we may start with values close to 1, and then keep decreasing the parameter. With time, we will be getting good probability values in the Q-Table, and thus we should be adjusting them slightly, and not overwriting completely with new values.

- **Increase epsilon**. We may want to increase the `epsilon` slowly, in order to explore less and exploit more. It probably makes sense to start with lower value of `epsilon`, –∏ –ø–æ–¥–Ω–∏–º–∏—Ç–µ –¥–æ –ø–æ—á—Ç–∏ 1.

> **–ó–∞–¥–∞–Ω–∏–µ 1**: –ü–æ—ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ —Å –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –≥–∏–ø–µ—Ä–ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏ –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ, —Å–º–æ–∂–µ—Ç–µ –ª–∏ –≤—ã –¥–æ—Å—Ç–∏—á—å –±–æ–ª–µ–µ –≤—ã—Å–æ–∫–æ–π —Å–æ–≤–æ–∫—É–ø–Ω–æ–π –Ω–∞–≥—Ä–∞–¥—ã. –í—ã –ø–æ–ª—É—á–∞–µ—Ç–µ –±–æ–ª—å—à–µ 195?

> **–ó–∞–¥–∞–Ω–∏–µ 2**: –ß—Ç–æ–±—ã —Ñ–æ—Ä–º–∞–ª—å–Ω–æ —Ä–µ—à–∏—Ç—å –∑–∞–¥–∞—á—É, –≤–∞–º –Ω—É–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å 195 —Å—Ä–µ–¥–Ω—é—é –Ω–∞–≥—Ä–∞–¥—É –∑–∞ 100 –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö –∑–∞–ø—É—Å–∫–æ–≤. –ò–∑–º–µ—Ä—å—Ç–µ —ç—Ç–æ –≤–æ –≤—Ä–µ–º—è –æ–±—É—á–µ–Ω–∏—è –∏ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã —Ñ–æ—Ä–º–∞–ª—å–Ω–æ —Ä–µ—à–∏–ª–∏ –∑–∞–¥–∞—á—É!

## –£–≤–∏–¥–µ—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ –¥–µ–π—Å—Ç–≤–∏–∏

–ë—ã–ª–æ –±—ã –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ —É–≤–∏–¥–µ—Ç—å, –∫–∞–∫ –≤–µ–¥–µ—Ç —Å–µ–±—è –æ–±—É—á–µ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å. –î–∞–≤–∞–π—Ç–µ –∑–∞–ø—É—Å—Ç–∏–º —Å–∏–º—É–ª—è—Ü–∏—é –∏ –±—É–¥–µ–º —Å–ª–µ–¥–æ–≤–∞—Ç—å —Ç–æ–π –∂–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –≤—ã–±–æ—Ä–∞ –¥–µ–π—Å—Ç–≤–∏–π, —á—Ç–æ –∏ –≤–æ –≤—Ä–µ–º—è –æ–±—É—á–µ–Ω–∏—è, –≤—ã–±–∏—Ä–∞—è —Å–æ–≥–ª–∞—Å–Ω–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—é –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–µ–π –≤ Q-—Ç–∞–±–ª–∏—Ü–µ: (–∫–æ–¥–æ–≤—ã–π –±–ª–æ–∫ 13)

```python
obs = env.reset()
done = False
while not done:
   s = discretize(obs)
   env.render()
   v = probs(np.array(qvalues(s)))
   a = random.choices(actions,weights=v)[0]
   obs,_,done,_ = env.step(a)
env.close()
```

–í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å —á—Ç–æ-—Ç–æ –ø–æ–¥–æ–±–Ω–æ–µ:

![–±–∞–ª–∞–Ω—Å–∏—Ä—É—é—â–∏–π cartpole](../../../../8-Reinforcement/2-Gym/images/cartpole-balance.gif)

---

## üöÄ–ó–∞–¥–∞—á–∞

> **–ó–∞–¥–∞–Ω–∏–µ 3**: –ó–¥–µ—Å—å –º—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ —Ñ–∏–Ω–∞–ª—å–Ω—É—é –∫–æ–ø–∏—é Q-—Ç–∞–±–ª–∏—Ü—ã, –∫–æ—Ç–æ—Ä–∞—è –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ –ª—É—á—à–µ–π. –ü–æ–º–Ω–∏—Ç–µ, —á—Ç–æ –º—ã —Å–æ—Ö—Ä–∞–Ω–∏–ª–∏ Q-—Ç–∞–±–ª–∏—Ü—É —Å –Ω–∞–∏–ª—É—á—à–µ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é –≤ `Qbest` variable! Try the same example with the best-performing Q-Table by copying `Qbest` over to `Q` and see if you notice the difference.

> **Task 4**: Here we were not selecting the best action on each step, but rather sampling with corresponding probability distribution. Would it make more sense to always select the best action, with the highest Q-Table value? This can be done by using `np.argmax` —Ñ—É–Ω–∫—Ü–∏–∏, —á—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å –Ω–æ–º–µ—Ä –¥–µ–π—Å—Ç–≤–∏—è, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ –Ω–∞–∏–≤—ã—Å—à–µ–º—É –∑–Ω–∞—á–µ–Ω–∏—é Q-—Ç–∞–±–ª–∏—Ü—ã. –†–µ–∞–ª–∏–∑—É–π—Ç–µ —ç—Ç—É —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –∏ –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ, —É–ª—É—á—à–∏—Ç –ª–∏ —ç—Ç–æ –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫—É.

## [–ü–æ—Å—Ç-–ª–µ–∫—Ü–∏–æ–Ω–Ω—ã–π —Ç–µ—Å—Ç](https://gray-sand-07a10f403.1.azurestaticapps.net/quiz/48/)

## –ó–∞–¥–∞–Ω–∏–µ
[–û–±—É—á–∏—Ç–µ –≥–æ—Ä–Ω—ã–π –∞–≤—Ç–æ–º–æ–±–∏–ª—å](assignment.md)

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–¢–µ–ø–µ—Ä—å –º—ã —É–∑–Ω–∞–ª–∏, –∫–∞–∫ –æ–±—É—á–∞—Ç—å –∞–≥–µ–Ω—Ç–æ–≤ –¥–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Ö–æ—Ä–æ—à–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤, –ø—Ä–æ—Å—Ç–æ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—è –∏–º —Ñ—É–Ω–∫—Ü–∏—é –Ω–∞–≥—Ä–∞–¥—ã, –∫–æ—Ç–æ—Ä–∞—è –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∂–µ–ª–∞–µ–º–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–≥—Ä—ã, –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—è –∏–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –ø–æ–∏—Å–∫–∞. –ú—ã —É—Å–ø–µ—à–Ω–æ –ø—Ä–∏–º–µ–Ω–∏–ª–∏ –∞–ª–≥–æ—Ä–∏—Ç–º Q-–æ–±—É—á–µ–Ω–∏—è –≤ —Å–ª—É—á–∞—è—Ö –¥–∏—Å–∫—Ä–µ—Ç–Ω—ã—Ö –∏ –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω—ã—Ö —Å—Ä–µ–¥, –Ω–æ —Å –¥–∏—Å–∫—Ä–µ—Ç–Ω—ã–º–∏ –¥–µ–π—Å—Ç–≤–∏—è–º–∏.

–í–∞–∂–Ω–æ —Ç–∞–∫–∂–µ –∏–∑—É—á–∏—Ç—å —Å–∏—Ç—É–∞—Ü–∏–∏, –∫–æ–≥–¥–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏—è —Ç–∞–∫–∂–µ –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ, –∏ –∫–æ–≥–¥–∞ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –Ω–∞–±–ª—é–¥–µ–Ω–∏–π –≥–æ—Ä–∞–∑–¥–æ –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω–æ, –Ω–∞–ø—Ä–∏–º–µ—Ä, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å —ç–∫—Ä–∞–Ω–∞ –∏–≥—Ä—ã Atari. –í —ç—Ç–∏—Ö –ø—Ä–æ–±–ª–µ–º–∞—Ö –Ω–∞–º —á–∞—Å—Ç–æ –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ–ª–µ–µ –º–æ—â–Ω—ã–µ –º–µ—Ç–æ–¥—ã –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è, —Ç–∞–∫–∏–µ –∫–∞–∫ –Ω–µ–π—Ä–æ–Ω–Ω—ã–µ —Å–µ—Ç–∏, –¥–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Ö–æ—Ä–æ—à–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤. –≠—Ç–∏ –±–æ–ª–µ–µ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ç–µ–º—ã –±—É–¥—É—Ç –ø—Ä–µ–¥–º–µ—Ç–æ–º –Ω–∞—à–µ–≥–æ –ø—Ä–µ–¥—Å—Ç–æ—è—â–µ–≥–æ –±–æ–ª–µ–µ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–≥–æ –∫—É—Ä—Å–∞ –ø–æ –ò–ò.

**–û—Ç–∫–∞–∑ –æ—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏**:  
–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –±—ã–ª –ø–µ—Ä–µ–≤–µ–¥–µ–Ω —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –º–∞—à–∏–Ω–Ω—ã—Ö –ø–µ—Ä–µ–≤–æ–¥—á–µ—Å–∫–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ò–ò. –•–æ—Ç—è –º—ã —Å—Ç—Ä–µ–º–∏–º—Å—è –∫ —Ç–æ—á–Ω–æ—Å—Ç–∏, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, –∏–º–µ–π—Ç–µ –≤ –≤–∏–¥—É, —á—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–µ—Ä–µ–≤–æ–¥—ã –º–æ–≥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –æ—à–∏–±–∫–∏ –∏–ª–∏ –Ω–µ—Ç–æ—á–Ω–æ—Å—Ç–∏. –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç –Ω–∞ —Ä–æ–¥–Ω–æ–º —è–∑—ã–∫–µ —Å–ª–µ–¥—É–µ—Ç —Å—á–∏—Ç–∞—Ç—å –∞–≤—Ç–æ—Ä–∏—Ç–µ—Ç–Ω—ã–º –∏—Å—Ç–æ—á–Ω–∏–∫–æ–º. –î–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π —á–µ–ª–æ–≤–µ—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–≤–æ–¥. –ú—ã –Ω–µ –Ω–µ—Å–µ–º –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∑–∞ –ª—é–±—ã–µ –Ω–µ–¥–æ—Ä–∞–∑—É–º–µ–Ω–∏—è –∏–ª–∏ –Ω–µ–≤–µ—Ä–Ω—ã–µ –∏—Å—Ç–æ–ª–∫–æ–≤–∞–Ω–∏—è, –≤–æ–∑–Ω–∏–∫–∞—é—â–∏–µ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —ç—Ç–æ–≥–æ –ø–µ—Ä–µ–≤–æ–¥–∞.