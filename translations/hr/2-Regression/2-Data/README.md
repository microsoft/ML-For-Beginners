<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "7c077988328ebfe33b24d07945f16eca",
  "translation_date": "2025-09-05T11:45:44+00:00",
  "source_file": "2-Regression/2-Data/README.md",
  "language_code": "hr"
}
-->
# Izgradnja regresijskog modela pomoƒáu Scikit-learn: priprema i vizualizacija podataka

![Infografika o vizualizaciji podataka](../../../../2-Regression/2-Data/images/data-visualization.png)

Infografiku izradio [Dasani Madipalli](https://twitter.com/dasani_decoded)

## [Kviz prije predavanja](https://ff-quizzes.netlify.app/en/ml/)

> ### [Ova lekcija dostupna je u R-u!](../../../../2-Regression/2-Data/solution/R/lesson_2.html)

## Uvod

Sada kada imate alate potrebne za izgradnju modela strojnog uƒçenja pomoƒáu Scikit-learn, spremni ste poƒçeti postavljati pitanja o svojim podacima. Dok radite s podacima i primjenjujete rje≈°enja strojnog uƒçenja, vrlo je va≈æno znati kako postaviti pravo pitanje kako biste pravilno iskoristili potencijale svog skupa podataka.

U ovoj lekciji nauƒçit ƒáete:

- Kako pripremiti podatke za izgradnju modela.
- Kako koristiti Matplotlib za vizualizaciju podataka.

## Postavljanje pravog pitanja o podacima

Pitanje na koje trebate odgovoriti odredit ƒáe vrstu algoritama strojnog uƒçenja koje ƒáete koristiti. Kvaliteta odgovora koji dobijete uvelike ƒáe ovisiti o prirodi va≈°ih podataka.

Pogledajte [podatke](https://github.com/microsoft/ML-For-Beginners/blob/main/2-Regression/data/US-pumpkins.csv) koji su dostupni za ovu lekciju. Mo≈æete otvoriti ovu .csv datoteku u VS Codeu. Brzi pregled odmah pokazuje da postoje praznine i mje≈°avina tekstualnih i numeriƒçkih podataka. Tu je i neobiƒçan stupac nazvan 'Package' gdje su podaci mje≈°avina izmeƒëu 'sacks', 'bins' i drugih vrijednosti. Podaci su, zapravo, pomalo neuredni.

[![ML za poƒçetnike - Kako analizirati i oƒçistiti skup podataka](https://img.youtube.com/vi/5qGjczWTrDQ/0.jpg)](https://youtu.be/5qGjczWTrDQ "ML za poƒçetnike - Kako analizirati i oƒçistiti skup podataka")

> üé• Kliknite na sliku iznad za kratki video o pripremi podataka za ovu lekciju.

Zapravo, nije uobiƒçajeno dobiti skup podataka koji je potpuno spreman za kori≈°tenje u stvaranju modela strojnog uƒçenja. U ovoj lekciji nauƒçit ƒáete kako pripremiti sirove podatke koristeƒái standardne Python biblioteke. Takoƒëer ƒáete nauƒçiti razliƒçite tehnike za vizualizaciju podataka.

## Studija sluƒçaja: 'tr≈æi≈°te bundeva'

U ovom direktoriju pronaƒái ƒáete .csv datoteku u korijenskoj mapi `data` pod nazivom [US-pumpkins.csv](https://github.com/microsoft/ML-For-Beginners/blob/main/2-Regression/data/US-pumpkins.csv) koja ukljuƒçuje 1757 redaka podataka o tr≈æi≈°tu bundeva, grupiranih po gradovima. Ovo su sirovi podaci izvuƒçeni iz [Specialty Crops Terminal Markets Standard Reports](https://www.marketnews.usda.gov/mnp/fv-report-config-step1?type=termPrice) koje distribuira Ministarstvo poljoprivrede Sjedinjenih Ameriƒçkih Dr≈æava.

### Priprema podataka

Ovi podaci su javno dostupni. Mogu se preuzeti u mnogo zasebnih datoteka, po gradovima, s web stranice USDA. Kako bismo izbjegli previ≈°e zasebnih datoteka, spojili smo sve podatke po gradovima u jednu tablicu, tako da smo veƒá _pripremili_ podatke malo. Sada, pogledajmo podatke detaljnije.

### Podaci o bundevama - prvi zakljuƒçci

≈†to primjeƒáujete o ovim podacima? Veƒá ste vidjeli da postoji mje≈°avina tekstualnih podataka, brojeva, praznina i neobiƒçnih vrijednosti koje trebate razumjeti.

Koje pitanje mo≈æete postaviti o ovim podacima koristeƒái tehniku regresije? ≈†to ka≈æete na "Predvidjeti cijenu bundeve za prodaju tijekom odreƒëenog mjeseca". Ponovno pogledajuƒái podatke, postoje neke promjene koje trebate napraviti kako biste stvorili strukturu podataka potrebnu za zadatak.

## Vje≈æba - analizirajte podatke o bundevama

Koristimo [Pandas](https://pandas.pydata.org/), (ime dolazi od `Python Data Analysis`) alat vrlo koristan za oblikovanje podataka, kako bismo analizirali i pripremili ove podatke o bundevama.

### Prvo, provjerite nedostaju li datumi

Prvo ƒáete morati poduzeti korake kako biste provjerili nedostaju li datumi:

1. Pretvorite datume u format mjeseca (ovo su ameriƒçki datumi, pa je format `MM/DD/YYYY`).
2. Izvucite mjesec u novi stupac.

Otvorite datoteku _notebook.ipynb_ u Visual Studio Codeu i uvezite tablicu u novi Pandas dataframe.

1. Koristite funkciju `head()` za pregled prvih pet redaka.

    ```python
    import pandas as pd
    pumpkins = pd.read_csv('../data/US-pumpkins.csv')
    pumpkins.head()
    ```

    ‚úÖ Koju biste funkciju koristili za pregled zadnjih pet redaka?

1. Provjerite ima li nedostajuƒáih podataka u trenutnom dataframeu:

    ```python
    pumpkins.isnull().sum()
    ```

    Postoje nedostajuƒái podaci, ali mo≈æda neƒáe biti va≈æni za zadatak.

1. Kako biste olak≈°ali rad s dataframeom, odaberite samo stupce koji su vam potrebni koristeƒái funkciju `loc`, koja iz izvornog dataframea izvlaƒçi grupu redaka (proslijeƒëeno kao prvi parametar) i stupaca (proslijeƒëeno kao drugi parametar). Izraz `:` u sluƒçaju ispod znaƒçi "svi redovi".

    ```python
    columns_to_select = ['Package', 'Low Price', 'High Price', 'Date']
    pumpkins = pumpkins.loc[:, columns_to_select]
    ```

### Drugo, odredite prosjeƒçnu cijenu bundeve

Razmislite kako odrediti prosjeƒçnu cijenu bundeve u odreƒëenom mjesecu. Koje biste stupce odabrali za ovaj zadatak? Savjet: trebat ƒáe vam 3 stupca.

Rje≈°enje: uzmite prosjek stupaca `Low Price` i `High Price` kako biste popunili novi stupac Price, i pretvorite stupac Date da prikazuje samo mjesec. Sreƒáom, prema provjeri iznad, nema nedostajuƒáih podataka za datume ili cijene.

1. Za izraƒçunavanje prosjeka dodajte sljedeƒái kod:

    ```python
    price = (pumpkins['Low Price'] + pumpkins['High Price']) / 2

    month = pd.DatetimeIndex(pumpkins['Date']).month

    ```

   ‚úÖ Slobodno ispi≈°ite bilo koje podatke koje ≈æelite provjeriti koristeƒái `print(month)`.

2. Sada kopirajte svoje konvertirane podatke u novi Pandas dataframe:

    ```python
    new_pumpkins = pd.DataFrame({'Month': month, 'Package': pumpkins['Package'], 'Low Price': pumpkins['Low Price'],'High Price': pumpkins['High Price'], 'Price': price})
    ```

    Ispisivanje va≈°eg dataframea pokazat ƒáe vam ƒçist, uredan skup podataka na kojem mo≈æete izgraditi svoj novi regresijski model.

### Ali ƒçekajte! Ne≈°to ovdje izgleda ƒçudno

Ako pogledate stupac `Package`, bundeve se prodaju u mnogim razliƒçitim konfiguracijama. Neke se prodaju u mjerama '1 1/9 bushel', neke u '1/2 bushel', neke po bundevi, neke po funti, a neke u velikim kutijama razliƒçitih ≈°irina.

> ƒåini se da je bundeve vrlo te≈°ko dosljedno vagati

Kopajuƒái po izvornim podacima, zanimljivo je da sve ≈°to ima `Unit of Sale` jednako 'EACH' ili 'PER BIN' takoƒëer ima tip `Package` po inƒçu, po binu ili 'each'. ƒåini se da je bundeve vrlo te≈°ko dosljedno vagati, pa ih filtrirajmo odabirom samo bundeva s nizom 'bushel' u stupcu `Package`.

1. Dodajte filter na vrh datoteke, ispod poƒçetnog uvoza .csv datoteke:

    ```python
    pumpkins = pumpkins[pumpkins['Package'].str.contains('bushel', case=True, regex=True)]
    ```

    Ako sada ispi≈°ete podatke, mo≈æete vidjeti da dobivate samo oko 415 redaka podataka koji sadr≈æe bundeve po bushelu.

### Ali ƒçekajte! Jo≈° ne≈°to treba napraviti

Jeste li primijetili da se koliƒçina bushela razlikuje po retku? Trebate normalizirati cijene tako da prikazujete cijene po bushelu, pa napravite neke izraƒçune kako biste ih standardizirali.

1. Dodajte ove linije nakon bloka koji stvara dataframe new_pumpkins:

    ```python
    new_pumpkins.loc[new_pumpkins['Package'].str.contains('1 1/9'), 'Price'] = price/(1 + 1/9)

    new_pumpkins.loc[new_pumpkins['Package'].str.contains('1/2'), 'Price'] = price/(1/2)
    ```

‚úÖ Prema [The Spruce Eats](https://www.thespruceeats.com/how-much-is-a-bushel-1389308), te≈æina bushela ovisi o vrsti proizvoda, jer je to mjera volumena. "Bushel rajƒçica, na primjer, trebao bi te≈æiti 56 funti... Li≈°ƒáe i zelje zauzimaju vi≈°e prostora s manje te≈æine, pa bushel ≈°pinata te≈æi samo 20 funti." Sve je to priliƒçno komplicirano! Neƒáemo se zamarati konverzijom bushel-u-funtu, veƒá ƒáemo cijene prikazivati po bushelu. Sva ova studija bushela bundeva, meƒëutim, pokazuje koliko je va≈æno razumjeti prirodu svojih podataka!

Sada mo≈æete analizirati cijene po jedinici na temelju njihove mjere bushela. Ako jo≈° jednom ispi≈°ete podatke, mo≈æete vidjeti kako su standardizirani.

‚úÖ Jeste li primijetili da su bundeve prodane po pola bushela vrlo skupe? Mo≈æete li shvatiti za≈°to? Savjet: male bundeve su puno skuplje od velikih, vjerojatno zato ≈°to ih ima puno vi≈°e po bushelu, s obzirom na neiskori≈°ten prostor koji zauzima jedna velika ≈°uplja bundeva za pitu.

## Strategije vizualizacije

Dio uloge znanstvenika za podatke je demonstrirati kvalitetu i prirodu podataka s kojima rade. Da bi to uƒçinili, ƒçesto stvaraju zanimljive vizualizacije, poput grafikona, dijagrama i tablica, koje prikazuju razliƒçite aspekte podataka. Na taj naƒçin mogu vizualno pokazati odnose i praznine koje je inaƒçe te≈°ko otkriti.

[![ML za poƒçetnike - Kako vizualizirati podatke pomoƒáu Matplotliba](https://img.youtube.com/vi/SbUkxH6IJo0/0.jpg)](https://youtu.be/SbUkxH6IJo0 "ML za poƒçetnike - Kako vizualizirati podatke pomoƒáu Matplotliba")

> üé• Kliknite na sliku iznad za kratki video o vizualizaciji podataka za ovu lekciju.

Vizualizacije takoƒëer mogu pomoƒái u odreƒëivanju tehnike strojnog uƒçenja koja je najprikladnija za podatke. Na primjer, scatterplot koji izgleda kao da slijedi liniju ukazuje na to da su podaci dobar kandidat za vje≈æbu linearne regresije.

Jedna biblioteka za vizualizaciju podataka koja dobro funkcionira u Jupyter notebookovima je [Matplotlib](https://matplotlib.org/) (koju ste takoƒëer vidjeli u prethodnoj lekciji).

> Steknite vi≈°e iskustva s vizualizacijom podataka u [ovim tutorijalima](https://docs.microsoft.com/learn/modules/explore-analyze-data-with-python?WT.mc_id=academic-77952-leestott).

## Vje≈æba - eksperimentirajte s Matplotlibom

Poku≈°ajte stvoriti osnovne grafikone za prikaz novog dataframea koji ste upravo stvorili. ≈†to bi pokazao osnovni linijski grafikon?

1. Uvezite Matplotlib na vrh datoteke, ispod uvoza Pandasa:

    ```python
    import matplotlib.pyplot as plt
    ```

1. Ponovno pokrenite cijeli notebook za osvje≈æavanje.
1. Na dnu notebooka dodajte ƒáeliju za prikaz podataka kao kutiju:

    ```python
    price = new_pumpkins.Price
    month = new_pumpkins.Month
    plt.scatter(price, month)
    plt.show()
    ```

    ![Scatterplot koji prikazuje odnos cijene i mjeseca](../../../../2-Regression/2-Data/images/scatterplot.png)

    Je li ovo koristan grafikon? Iznenaƒëuje li vas ne≈°to u vezi s njim?

    Nije osobito koristan jer samo prikazuje va≈°e podatke kao raspr≈°ene toƒçke u odreƒëenom mjesecu.

### Uƒçinite ga korisnim

Da bi grafikoni prikazivali korisne podatke, obiƒçno trebate grupirati podatke na neki naƒçin. Poku≈°ajmo stvoriti grafikon gdje y os prikazuje mjesece, a podaci pokazuju distribuciju podataka.

1. Dodajte ƒáeliju za stvaranje grupiranog stupƒçastog grafikona:

    ```python
    new_pumpkins.groupby(['Month'])['Price'].mean().plot(kind='bar')
    plt.ylabel("Pumpkin Price")
    ```

    ![Stupƒçasti grafikon koji prikazuje odnos cijene i mjeseca](../../../../2-Regression/2-Data/images/barchart.png)

    Ovo je korisnija vizualizacija podataka! ƒåini se da pokazuje da je najvi≈°a cijena bundeva u rujnu i listopadu. Odgovara li to va≈°im oƒçekivanjima? Za≈°to ili za≈°to ne?

---

## üöÄIzazov

Istra≈æite razliƒçite vrste vizualizacija koje Matplotlib nudi. Koje vrste su najprikladnije za regresijske probleme?

## [Kviz nakon predavanja](https://ff-quizzes.netlify.app/en/ml/)

## Pregled i samostalno uƒçenje

Pogledajte mnoge naƒçine vizualizacije podataka. Napravite popis raznih dostupnih biblioteka i zabilje≈æite koje su najbolje za odreƒëene vrste zadataka, na primjer 2D vizualizacije naspram 3D vizualizacija. ≈†to otkrivate?

## Zadatak

[Istrazivanje vizualizacije](assignment.md)

---

**Odricanje od odgovornosti**:  
Ovaj dokument je preveden kori≈°tenjem AI usluge za prevoƒëenje [Co-op Translator](https://github.com/Azure/co-op-translator). Iako nastojimo osigurati toƒçnost, imajte na umu da automatski prijevodi mogu sadr≈æavati pogre≈°ke ili netoƒçnosti. Izvorni dokument na izvornom jeziku treba smatrati mjerodavnim izvorom. Za kljuƒçne informacije preporuƒçuje se profesionalni prijevod od strane struƒçnjaka. Ne preuzimamo odgovornost za bilo kakve nesporazume ili pogre≈°ne interpretacije proiza≈°le iz kori≈°tenja ovog prijevoda.